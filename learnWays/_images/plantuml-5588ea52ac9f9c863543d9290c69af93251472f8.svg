<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="7701px" preserveAspectRatio="none" style="width:1381px;height:7701px;" version="1.1" viewBox="0 0 1381 7701" width="1381px" zoomAndPan="magnify"><defs><filter height="300%" id="f145hppwhwwbk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="10" y="3838.2891"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="20" y="3859.4277">云原生12要素</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="181.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="203.0449">方法论</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="262" y="20"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="272" y="41.1387">标准化流程自动配置</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="440" y="20"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="450" y="41.1387">使新的开发者花费最少的学习成本加入</text><path d="M390,36.9844 L400,36.9844 C415,36.9844 415,36.9844 430,36.9844 L440,36.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,36.9844 252,36.9844 L262,36.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="262" y="73.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="272" y="95.1074">操作系统间划清界限</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="440" y="73.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="450" y="95.1074">在各个系统中提供最大的可移植性</text><path d="M390,90.9531 L400,90.9531 C415,90.9531 415,90.9531 430,90.9531 L440,90.9531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,90.9531 252,90.9531 L262,90.9531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="262" y="127.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="272" y="149.0762">适合部署在现代的云平台</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="464" y="127.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="474" y="149.0762">为在服务器和系统管理方面节省资源</text><path d="M414,144.9219 L424,144.9219 C439,144.9219 439,144.9219 454,144.9219 L464,144.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,144.9219 252,144.9219 L262,144.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="262" y="208.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="272" y="230.0293">降低开发环境和生产环境的差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="500" y="181.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="510" y="203.0449">使用持续交付</text><path d="M450,225.875 L460,225.875 C475,225.875 475,198.8906 490,198.8906 L500,198.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="500" y="235.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="510" y="257.0137">实施敏捷开发</text><path d="M450,225.875 L460,225.875 C475,225.875 475,252.8594 490,252.8594 L500,252.8594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,225.875 252,225.875 L262,225.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="262" y="289.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="272" y="310.9824">实现扩展</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="380" y="289.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="390" y="310.9824">在工具、架构和开发流程不发生明显变化的前提下</text><path d="M330,306.8281 L340,306.8281 C355,306.8281 355,306.8281 370,306.8281 L380,306.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,306.8281 252,306.8281 L262,306.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="262" y="343.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="272" y="364.9512">语言无关性</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="392" y="343.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="402" y="364.9512">这套理论适用于任意语言和后端服务开发的app</text><path d="M342,360.7969 L352,360.7969 C367,360.7969 367,360.7969 382,360.7969 L392,360.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,360.7969 252,360.7969 L262,360.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,198.8906 146,198.8906 L156,198.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="156" y="424.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="166" y="445.9043">灵感</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="250" y="397.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="260" y="418.9199">作者: Martin Fowler</text><path d="M200,441.75 L210,441.75 C225,441.75 225,414.7656 240,414.7656 L250,414.7656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="401" x="250" y="451.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="381" x="260" y="472.8887">Patterns of Enterprise Application Architecture， Refactoring</text><path d="M200,441.75 L210,441.75 C225,441.75 225,468.7344 240,468.7344 L250,468.7344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,441.75 146,441.75 L156,441.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="156" y="708.1016"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="166" y="729.2402">1.基准代码</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="304" x="286" y="505.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="284" x="296" y="526.8574">一份基准代码（Codebase），多份部署（deploy）</text><path d="M236,725.0859 L246,725.0859 C261,725.0859 261,522.7031 276,522.7031 L286,522.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="286" y="559.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="348" x="296" y="580.8262">一旦有多个基准代码，就不能称为一个应用，而是一个分布式系统</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="704" y="532.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="714" y="553.8418">分布式系统中的每一个组件都是一个应用</text><path d="M654,576.6719 L664,576.6719 C679,576.6719 679,549.6875 694,549.6875 L704,549.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="268" x="704" y="586.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="248" x="714" y="607.8105">每一个应用可以分别使用 12-Factor 进行开发</text><path d="M654,576.6719 L664,576.6719 C679,576.6719 679,603.6563 694,603.6563 L704,603.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,725.0859 L246,725.0859 C261,725.0859 261,576.6719 276,576.6719 L286,576.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="316" x="286" y="667.625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="296" x="296" y="688.7637">多个应用共享一份基准代码是有悖于 12-Factor 原则的</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="652" y="640.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="662" y="661.7793">解决方案是将共享的代码拆分为独立的类库</text><path d="M602,684.6094 L612,684.6094 C627,684.6094 627,657.625 642,657.625 L652,657.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="652" y="694.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="662" y="715.748">然后使用 依赖管理 策略去加载它们</text><path d="M602,684.6094 L612,684.6094 C627,684.6094 627,711.5938 642,711.5938 L652,711.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,725.0859 L246,725.0859 C261,725.0859 261,684.6094 276,684.6094 L286,684.6094 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="286" y="829.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="296" y="850.6699">每个应用可同时存在多份部署</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="512" y="748.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="522" y="769.7168">每份 部署 相当于运行了一个应用的实例</text><path d="M462,846.5156 L472,846.5156 C487,846.5156 487,765.5625 502,765.5625 L512,765.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="512" y="802.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="522" y="823.6855">通常有多个环境: dev, deploy, local...</text><path d="M462,846.5156 L472,846.5156 C487,846.5156 487,819.5313 502,819.5313 L512,819.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="512" y="856.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="522" y="877.6543">每个环境可能有多份部署</text><path d="M462,846.5156 L472,846.5156 C487,846.5156 487,873.5 502,873.5 L512,873.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="512" y="910.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="522" y="931.623">不同环境间可使用不同版本但都共享同一基准代码</text><path d="M462,846.5156 L472,846.5156 C487,846.5156 487,927.4688 502,927.4688 L512,927.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,725.0859 L246,725.0859 C261,725.0859 261,846.5156 276,846.5156 L286,846.5156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,725.0859 146,725.0859 L156,725.0859 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="1261.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="1282.4199">2.依赖</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="262" y="991.4375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="272" y="1012.5762">显式声明依赖关系</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="428" y="964.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="438" y="985.5918">不会隐式依赖某些系统工具</text><path d="M378,1008.4219 L388,1008.4219 C403,1008.4219 403,981.4375 418,981.4375 L428,981.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="428" y="1018.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="438" y="1039.5605">即使这些工具存在于几乎所有系统: 如curl</text><path d="M378,1008.4219 L388,1008.4219 C403,1008.4219 403,1035.4063 418,1035.4063 L428,1035.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1008.4219 252,1008.4219 L262,1008.4219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="262" y="1099.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="272" y="1120.5137">Ruby</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="362" y="1072.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="372" y="1093.5293">使用 Gemfile 作为依赖项声明清单</text><path d="M312,1116.3594 L322,1116.3594 C337,1116.3594 337,1089.375 352,1089.375 L362,1089.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="362" y="1126.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="372" y="1147.498">使用 bundle exec 来进行依赖隔离</text><path d="M312,1116.3594 L322,1116.3594 C337,1116.3594 337,1143.3438 352,1143.3438 L362,1143.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1116.3594 252,1116.3594 L262,1116.3594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="262" y="1207.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="272" y="1228.4512">Python</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="375" y="1180.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="385" y="1201.4668">Pip 用作依赖声明</text><path d="M325,1224.2969 L335,1224.2969 C350,1224.2969 350,1197.3125 365,1197.3125 L375,1197.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="375" y="1234.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="385" y="1255.4355">Virtualenv 用作依赖隔离</text><path d="M325,1224.2969 L335,1224.2969 C350,1224.2969 350,1251.2813 365,1251.2813 L375,1251.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1224.2969 252,1224.2969 L262,1224.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="28" x="262" y="1315.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="272" y="1336.3887">C</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="340" y="1288.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="350" y="1309.4043">Autoconf 用作依赖声明</text><path d="M290,1332.2344 L300,1332.2344 C315,1332.2344 315,1305.25 330,1305.25 L340,1305.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="340" y="1342.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="350" y="1363.373">静态链接库用作依赖隔离</text><path d="M290,1332.2344 L300,1332.2344 C315,1332.2344 315,1359.2188 330,1359.2188 L340,1359.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1332.2344 252,1332.2344 L262,1332.2344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="262" y="1423.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="272" y="1444.3262">注意</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="356" y="1396.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="366" y="1417.3418">无论用什么工具，依赖声明和依赖隔离必须一起使用</text><path d="M306,1440.1719 L316,1440.1719 C331,1440.1719 331,1413.1875 346,1413.1875 L356,1413.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="356" y="1450.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="366" y="1471.3105">否则无法满足 12-Factor 规范</text><path d="M306,1440.1719 L316,1440.1719 C331,1440.1719 331,1467.1563 346,1467.1563 L356,1467.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1440.1719 252,1440.1719 L262,1440.1719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="262" y="1531.125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="272" y="1552.2637">显式声明依赖的优点</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="440" y="1504.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="450" y="1525.2793">为新进开发者简化了环境配置流程</text><path d="M390,1548.1094 L400,1548.1094 C415,1548.1094 415,1521.125 430,1521.125 L440,1521.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="440" y="1558.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="200" x="450" y="1579.248">通过一个 构建命令 安装所有的依赖项</text><path d="M390,1548.1094 L400,1548.1094 C415,1548.1094 415,1575.0938 430,1575.0938 L440,1575.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,1278.2656 L222,1278.2656 C237,1278.2656 237,1548.1094 252,1548.1094 L262,1548.1094 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,1278.2656 146,1278.2656 L156,1278.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="1989.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="2010.998">3.配置</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="262" y="1693.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="272" y="1714.1699">在环境中存储配置</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="428" y="1612.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="438" y="1633.2168">代码和配置严格分离</text><path d="M378,1710.0156 L388,1710.0156 C403,1710.0156 403,1629.0625 418,1629.0625 L428,1629.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="428" y="1666.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="438" y="1687.1855">配置文件在各部署间存在大幅差异，代码却完全一致</text><path d="M378,1710.0156 L388,1710.0156 C403,1710.0156 403,1683.0313 418,1683.0313 L428,1683.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="340" x="428" y="1720.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="320" x="438" y="1741.1543">标准: 基准代码立刻开源，而不用担心会暴露任何敏感的信息</text><path d="M378,1710.0156 L388,1710.0156 C403,1710.0156 403,1737 418,1737 L428,1737 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="342" x="428" y="1773.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="322" x="438" y="1795.123">推荐: 将应用的配置存储于 环境变量 中（ env vars, env ）</text><path d="M378,1710.0156 L388,1710.0156 C403,1710.0156 403,1790.9688 418,1790.9688 L428,1790.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,2006.8438 L222,2006.8438 C237,2006.8438 237,1710.0156 252,1710.0156 L262,1710.0156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="262" y="1908.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="272" y="1930.0449">配置 在不同 部署环境 会有很大差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="524" y="1827.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="534" y="1849.0918">这其中包括</text><path d="M474,1925.8906 L484,1925.8906 C499,1925.8906 499,1844.9375 514,1844.9375 L524,1844.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="295" x="524" y="1881.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="275" x="534" y="1903.0605">数据库，Memcached，以及其他 后端服务 的配置</text><path d="M474,1925.8906 L484,1925.8906 C499,1925.8906 499,1898.9063 514,1898.9063 L524,1898.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="282" x="524" y="1935.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="262" x="534" y="1957.0293">第三方服务的证书，如 Amazon S3、Twitter 等</text><path d="M474,1925.8906 L484,1925.8906 C499,1925.8906 499,1952.875 514,1952.875 L524,1952.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="524" y="1989.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="534" y="2010.998">每份部署特有的配置，如域名等</text><path d="M474,1925.8906 L484,1925.8906 C499,1925.8906 499,2006.8438 514,2006.8438 L524,2006.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,2006.8438 L222,2006.8438 C237,2006.8438 237,1925.8906 252,1925.8906 L262,1925.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="262" y="2097.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="272" y="2118.9355">分组</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="356" y="2043.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="366" y="2064.9668">应用将配置按照特定部署进行分组（或叫做“环境”）</text><path d="M306,2114.7813 L316,2114.7813 C331,2114.7813 331,2060.8125 346,2060.8125 L356,2060.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="356" y="2097.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="366" y="2118.9355">如: development,test, 和 production 环境</text><path d="M306,2114.7813 L316,2114.7813 C331,2114.7813 331,2114.7813 346,2114.7813 L356,2114.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="356" y="2151.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="366" y="2172.9043">这将导致各种配置组合的激增</text><path d="M306,2114.7813 L316,2114.7813 C331,2114.7813 331,2168.75 346,2168.75 L356,2168.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,2006.8438 L222,2006.8438 C237,2006.8438 237,2114.7813 252,2114.7813 L262,2114.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="262" y="2286.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="272" y="2307.8262">要求</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="356" y="2205.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="366" y="2226.873">环境变量的粒度要足够小，且相对独立</text><path d="M306,2303.6719 L316,2303.6719 C331,2303.6719 331,2222.7188 346,2222.7188 L356,2222.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="356" y="2259.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="366" y="2280.8418">不会组合成一个所谓的“环境”</text><path d="M306,2303.6719 L316,2303.6719 C331,2303.6719 331,2276.6875 346,2276.6875 L356,2276.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="356" y="2313.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="366" y="2334.8105">而是独立存在于每个部署之中</text><path d="M306,2303.6719 L316,2303.6719 C331,2303.6719 331,2330.6563 346,2330.6563 L356,2330.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="356" y="2367.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="366" y="2388.7793">在扩展需要更多种类的部署时，能够做到平滑过渡</text><path d="M306,2303.6719 L316,2303.6719 C331,2303.6719 331,2384.625 346,2384.625 L356,2384.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,2006.8438 L222,2006.8438 C237,2006.8438 237,2303.6719 252,2303.6719 L262,2303.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,2006.8438 146,2006.8438 L156,2006.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="156" y="2529.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="166" y="2550.6855">4.后端服务</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="286" y="2448.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="246" x="296" y="2469.7324">把后端服务(backing services)当作附加资源</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="602" y="2421.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="612" y="2442.748">后端服务是指程序运行所需要的通过网络调用的各种服务</text><path d="M552,2465.5781 L562,2465.5781 C577,2465.5781 577,2438.5938 592,2438.5938 L602,2438.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="602" y="2475.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="612" y="2496.7168">如数据库、消息/队列等</text><path d="M552,2465.5781 L562,2465.5781 C577,2465.5781 577,2492.5625 592,2492.5625 L602,2492.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,2546.5313 L246,2546.5313 C261,2546.5313 261,2465.5781 276,2465.5781 L286,2465.5781 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="286" y="2556.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="296" y="2577.6699">不区别对待本地或第三方服务</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="512" y="2529.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="522" y="2550.6855">对应用程序而言，两种都是附加资源</text><path d="M462,2573.5156 L472,2573.5156 C487,2573.5156 487,2546.5313 502,2546.5313 L512,2546.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="512" y="2583.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="522" y="2604.6543">通过一个 url 或是其他来获取数据</text><path d="M462,2573.5156 L472,2573.5156 C487,2573.5156 487,2600.5 502,2600.5 L512,2600.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,2546.5313 L246,2546.5313 C261,2546.5313 261,2573.5156 276,2573.5156 L286,2573.5156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="286" y="2637.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="296" y="2658.623">这些资源和它们附属的部署保持松耦合</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="560" y="2637.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="570" y="2658.623">部署可以按需加载或卸载资源</text><path d="M510,2654.4688 L520,2654.4688 C535,2654.4688 535,2654.4688 550,2654.4688 L560,2654.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,2546.5313 L246,2546.5313 C261,2546.5313 261,2654.4688 276,2654.4688 L286,2654.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,2546.5313 146,2546.5313 L156,2546.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="156" y="2988.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="166" y="3009.4199">5.构建，发布，运行</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="334" y="2691.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="344" y="2712.5918">严格分离构建和运行</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="512" y="2691.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="522" y="2712.5918">严格区分构建，发布，运行这三个步骤</text><path d="M462,2708.4375 L472,2708.4375 C487,2708.4375 487,2708.4375 502,2708.4375 L512,2708.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M284,3005.2656 L294,3005.2656 C309,3005.2656 309,2708.4375 324,2708.4375 L334,2708.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="334" y="2853.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="344" y="2874.498">基准代码 转化为一份部署</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="540" y="2772.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="550" y="2793.5449">构建阶段</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="658" y="2745.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="668" y="2766.5605">将代码仓库转化为可执行包的过程</text><path d="M608,2789.3906 L618,2789.3906 C633,2789.3906 633,2762.4063 648,2762.4063 L658,2762.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="658" y="2799.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="668" y="2820.5293">构建时会使用指定版本的代码</text><path d="M608,2789.3906 L618,2789.3906 C633,2789.3906 633,2816.375 648,2816.375 L658,2816.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M490,2870.3438 L500,2870.3438 C515,2870.3438 515,2789.3906 530,2789.3906 L540,2789.3906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="540" y="2880.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="550" y="2901.4824">发布阶段</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="658" y="2853.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="668" y="2874.498">将构建的结果和当前部署所需 配置 相结合</text><path d="M608,2897.3281 L618,2897.3281 C633,2897.3281 633,2870.3438 648,2870.3438 L658,2870.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="658" y="2907.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="668" y="2928.4668">并能够立刻在运行环境中投入使用</text><path d="M608,2897.3281 L618,2897.3281 C633,2897.3281 633,2924.3125 648,2924.3125 L658,2924.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M490,2870.3438 L500,2870.3438 C515,2870.3438 515,2897.3281 530,2897.3281 L540,2897.3281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="540" y="2961.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="550" y="2982.4355">运行阶段</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="348" x="658" y="2961.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="328" x="668" y="2982.4355">针对选定的发布版本，在执行环境中启动一系列应用程序 进程</text><path d="M608,2978.2813 L618,2978.2813 C633,2978.2813 633,2978.2813 648,2978.2813 L658,2978.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M490,2870.3438 L500,2870.3438 C515,2870.3438 515,2978.2813 530,2978.2813 L540,2978.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M284,3005.2656 L294,3005.2656 C309,3005.2656 309,2870.3438 324,2870.3438 L334,2870.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="334" y="3150.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="344" y="3171.3262">建议</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="428" y="3042.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="438" y="3063.3887">运行阶段</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="546" y="3015.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="556" y="3036.4043">不一定需要人为触发，也可以自动进行</text><path d="M496,3059.2344 L506,3059.2344 C521,3059.2344 521,3032.25 536,3032.25 L546,3032.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="546" y="3069.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="556" y="3090.373">运行阶段应该保持尽可能少的模块</text><path d="M496,3059.2344 L506,3059.2344 C521,3059.2344 521,3086.2188 536,3086.2188 L546,3086.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M378,3167.1719 L388,3167.1719 C403,3167.1719 403,3059.2344 418,3059.2344 L428,3059.2344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="428" y="3204.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="438" y="3225.2949">构建阶段</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="546" y="3123.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="556" y="3144.3418">需要开发人员触发构建操作</text><path d="M496,3221.1406 L506,3221.1406 C521,3221.1406 521,3140.1875 536,3140.1875 L546,3140.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="546" y="3177.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="556" y="3198.3105">是可以相对复杂一些的</text><path d="M496,3221.1406 L506,3221.1406 C521,3221.1406 521,3194.1563 536,3194.1563 L546,3194.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="546" y="3231.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="556" y="3252.2793">因为错误信息能够立刻展示在开发人员面前</text><path d="M496,3221.1406 L506,3221.1406 C521,3221.1406 521,3248.125 536,3248.125 L546,3248.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="546" y="3285.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="556" y="3306.248">从而得到妥善处理</text><path d="M496,3221.1406 L506,3221.1406 C521,3221.1406 521,3302.0938 536,3302.0938 L546,3302.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M378,3167.1719 L388,3167.1719 C403,3167.1719 403,3221.1406 418,3221.1406 L428,3221.1406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M284,3005.2656 L294,3005.2656 C309,3005.2656 309,3167.1719 324,3167.1719 L334,3167.1719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,3005.2656 146,3005.2656 L156,3005.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="3447.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="3468.1543">6.进程</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="262" y="3366.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="272" y="3387.2012">以一个或多个无状态进程运行应用</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="512" y="3339.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="522" y="3360.2168">应用的进程必须无状态且 无共享</text><path d="M462,3383.0469 L472,3383.0469 C487,3383.0469 487,3356.0625 502,3356.0625 L512,3356.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="268" x="512" y="3393.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="248" x="522" y="3414.1855">任何需要持久化的数据都要存储在 后端服务 内</text><path d="M462,3383.0469 L472,3383.0469 C487,3383.0469 487,3410.0313 502,3410.0313 L512,3410.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,3464 L222,3464 C237,3464 237,3383.0469 252,3383.0469 L262,3383.0469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="262" y="3500.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="272" y="3522.123">粘性 session 是 12-Factor 极力反对的</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="552" y="3447.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="360" x="562" y="3468.1543">粘性 session是指将用户 session 中的数据缓存至某进程的内存中</text><path d="M502,3517.9688 L512,3517.9688 C527,3517.9688 527,3464 542,3464 L552,3464 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="552" y="3500.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="562" y="3522.123">并将同一用户的后续请求路由到同一个进程</text><path d="M502,3517.9688 L512,3517.9688 C527,3517.9688 527,3517.9688 542,3517.9688 L552,3517.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="552" y="3554.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="562" y="3576.0918">Session 的数据应存在带有过期时间的缓存中</text><path d="M502,3517.9688 L512,3517.9688 C527,3517.9688 527,3571.9375 542,3571.9375 L552,3571.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,3464 L222,3464 C237,3464 237,3517.9688 252,3517.9688 L262,3517.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,3464 146,3464 L156,3464 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="156" y="3662.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="166" y="3684.0293">7.端口绑定</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="238" x="286" y="3608.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="218" x="296" y="3630.0605">通过端口绑定(Port binding)来提供服务</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="420" x="574" y="3608.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="400" x="584" y="3630.0605">应用完全自我加载 不依赖于任何网络服务器就可以创建一个面向网络的服务</text><path d="M524,3625.9063 L534,3625.9063 C549,3625.9063 549,3625.9063 564,3625.9063 L574,3625.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,3679.875 L246,3679.875 C261,3679.875 261,3625.9063 276,3625.9063 L286,3625.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="286" y="3689.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="296" y="3711.0137">实现思路</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="404" y="3662.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="414" y="3684.0293">将网络服务器类库通过 依赖声明 载入应用</text><path d="M354,3706.8594 L364,3706.8594 C379,3706.8594 379,3679.875 394,3679.875 L404,3679.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="371" x="404" y="3716.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="351" x="414" y="3737.998">调用方将服务方提供的相应 URL 当作资源存入 配置 以备将来调用</text><path d="M354,3706.8594 L364,3706.8594 C379,3706.8594 379,3733.8438 394,3733.8438 L404,3733.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236,3679.875 L246,3679.875 C261,3679.875 261,3706.8594 276,3706.8594 L286,3706.8594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,3679.875 146,3679.875 L156,3679.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="3878.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="3899.9043">8.并发</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="262" y="3824.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="272" y="3845.9355">通过进程模型进行扩展</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="452" y="3770.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="462" y="3791.9668">在 12-factor 应用中，进程是一等公民</text><path d="M402,3841.7813 L412,3841.7813 C427,3841.7813 427,3787.8125 442,3787.8125 L452,3787.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="452" y="3824.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="165" x="462" y="3845.9355">主要借鉴于 unix 守护进程模型</text><path d="M402,3841.7813 L412,3841.7813 C427,3841.7813 427,3841.7813 442,3841.7813 L452,3841.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="508" x="452" y="3878.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="488" x="462" y="3899.9043">12-Factor 应用的进程所具备的无共享，水平分区的特性 意味着添加并发会变得简单而稳妥</text><path d="M402,3841.7813 L412,3841.7813 C427,3841.7813 427,3895.75 442,3895.75 L452,3895.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,3895.75 L222,3895.75 C237,3895.75 237,3841.7813 252,3841.7813 L262,3841.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="336" x="262" y="3959.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="316" x="272" y="3980.8574">12-Factor 应用的进程 不需要守护进程 或是写入 PID 文件</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="312" x="648" y="3932.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="292" x="658" y="3953.873">相反的，应该借助操作系统的进程管理器来管理 输出流</text><path d="M598,3976.7031 L608,3976.7031 C623,3976.7031 623,3949.7188 638,3949.7188 L648,3949.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="648" y="3986.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="348" x="658" y="4007.8418">响应崩溃的进程，以及处理用户触发的重启和关闭超级进程的请求</text><path d="M598,3976.7031 L608,3976.7031 C623,3976.7031 623,4003.6875 638,4003.6875 L648,4003.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,3895.75 L222,3895.75 C237,3895.75 237,3976.7031 252,3976.7031 L262,3976.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,3895.75 146,3895.75 L156,3895.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="156" y="4607.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="166" y="4628.4824">9.易处理</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="274" y="4148.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="284" y="4169.748">快速启动和优雅终止可最大化健壮性</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="308" x="536" y="4094.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="288" x="546" y="4115.7793">12-Factor 应用的 进程 是 易处理（disposable）的</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="894" y="4040.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="904" y="4061.8105">意思是说它们可以瞬间开启或停止</text><path d="M844,4111.625 L854,4111.625 C869,4111.625 869,4057.6563 884,4057.6563 L894,4057.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="894" y="4094.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="904" y="4115.7793">有利于快速、弹性的伸缩应用</text><path d="M844,4111.625 L854,4111.625 C869,4111.625 869,4111.625 884,4111.625 L894,4111.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="894" y="4148.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="256" x="904" y="4169.748">迅速部署变化的 代码 或 配置 ，稳健的部署应用</text><path d="M844,4111.625 L854,4111.625 C869,4111.625 869,4165.5938 884,4165.5938 L894,4165.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M486,4165.5938 L496,4165.5938 C511,4165.5938 511,4111.625 526,4111.625 L536,4111.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="300" x="536" y="4229.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="280" x="546" y="4250.7012">12-Factor 应用都应设计能应对意外、不优雅的终结</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="886" y="4202.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="896" y="4223.7168">Crash-only design</text><path d="M836,4246.5469 L846,4246.5469 C861,4246.5469 861,4219.5625 876,4219.5625 L886,4219.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="886" y="4256.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="896" y="4277.6855">将这种概念转化为 合乎逻辑的理论</text><path d="M836,4246.5469 L846,4246.5469 C861,4246.5469 861,4273.5313 876,4273.5313 L886,4273.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M486,4165.5938 L496,4165.5938 C511,4165.5938 511,4246.5469 526,4246.5469 L536,4246.5469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,4624.3281 L234,4624.3281 C249,4624.3281 249,4165.5938 264,4165.5938 L274,4165.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="274" y="4337.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="284" y="4358.6387">进程应当追求 最小启动时间</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="492" y="4310.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="272" x="502" y="4331.6543">更少的启动时间提供了更敏捷的 发布 以及扩展过程</text><path d="M442,4354.4844 L452,4354.4844 C467,4354.4844 467,4327.5 482,4327.5 L492,4327.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="492" y="4364.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="502" y="4385.623">还增加了健壮性</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="392" x="646" y="4364.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="372" x="656" y="4385.623">因为进程管理器可以在授权情形下很容易的将进程搬到新的物理机器上</text><path d="M596,4381.4688 L606,4381.4688 C621,4381.4688 621,4381.4688 636,4381.4688 L646,4381.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M442,4354.4844 L452,4354.4844 C467,4354.4844 467,4381.4688 482,4381.4688 L492,4381.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,4624.3281 L234,4624.3281 C249,4624.3281 249,4354.4844 264,4354.4844 L274,4354.4844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="313" x="274" y="4715.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="293" x="284" y="4736.4199">进程 一旦接收 终止信号（SIGTERM） 就会优雅的终止</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="637" y="4499.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="647" y="4520.5449">就网络进程而言</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="791" y="4418.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="801" y="4439.5918">优雅终止是指停止监听服务的端口</text><path d="M741,4516.3906 L751,4516.3906 C766,4516.3906 766,4435.4375 781,4435.4375 L791,4435.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="791" y="4472.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="336" x="801" y="4493.5605">即拒绝所有新的请求，并继续执行当前已接收的请求，然后退出</text><path d="M741,4516.3906 L751,4516.3906 C766,4516.3906 766,4489.4063 781,4489.4063 L791,4489.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="791" y="4553.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="801" y="4574.5137">隐含的要求</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="921" y="4526.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="931" y="4547.5293">HTTP请求大多都很短(不会超过几秒钟)</text><path d="M871,4570.3594 L881,4570.3594 C896,4570.3594 896,4543.375 911,4543.375 L921,4543.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="332" x="921" y="4580.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="312" x="931" y="4601.498">而在长时间轮询中，客户端在丢失连接后应该马上尝试重连</text><path d="M871,4570.3594 L881,4570.3594 C896,4570.3594 896,4597.3438 911,4597.3438 L921,4597.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M741,4516.3906 L751,4516.3906 C766,4516.3906 766,4570.3594 781,4570.3594 L791,4570.3594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587,4732.2656 L597,4732.2656 C612,4732.2656 612,4516.3906 627,4516.3906 L637,4516.3906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="637" y="4823.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="647" y="4844.3574">对于 worker 进程来说</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="829" y="4634.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="839" y="4655.4668">优雅终止是指将当前任务退回队列</text><path d="M779,4840.2031 L789,4840.2031 C804,4840.2031 804,4651.3125 819,4651.3125 L829,4651.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="829" y="4688.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="839" y="4709.4355">RabbitMQ 中</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="974" y="4688.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="174" x="984" y="4709.4355">worker 可以发送一个NACK信号</text><path d="M924,4705.2813 L934,4705.2813 C949,4705.2813 949,4705.2813 964,4705.2813 L974,4705.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M779,4840.2031 L789,4840.2031 C804,4840.2031 804,4705.2813 819,4705.2813 L829,4705.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="829" y="4742.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="839" y="4763.4043">Beanstalkd 中</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="985" y="4742.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="258" x="995" y="4763.4043">任务终止并退回队列会在worker断开时自动触发</text><path d="M935,4759.25 L945,4759.25 C960,4759.25 960,4759.25 975,4759.25 L985,4759.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M779,4840.2031 L789,4840.2031 C804,4840.2031 804,4759.25 819,4759.25 L829,4759.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="829" y="4904.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="173" x="839" y="4925.3105">锁机制的系统诸如 Delayed Job</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1072" y="4796.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1082" y="4817.373">需要确定释放了系统资源</text><path d="M1022,4921.1563 L1032,4921.1563 C1047,4921.1563 1047,4813.2188 1062,4813.2188 L1072,4813.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="1072" y="4850.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="1082" y="4871.3418">隐含的要求</text><path d="M1022,4921.1563 L1032,4921.1563 C1047,4921.1563 1047,4867.1875 1062,4867.1875 L1072,4867.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="1072" y="4904.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="1082" y="4925.3105">任务都应该 可重复执行</text><path d="M1022,4921.1563 L1032,4921.1563 C1047,4921.1563 1047,4921.1563 1062,4921.1563 L1072,4921.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1072" y="4958.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1082" y="4979.2793">主要由将结果包装进事务</text><path d="M1022,4921.1563 L1032,4921.1563 C1047,4921.1563 1047,4975.125 1062,4975.125 L1072,4975.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="1072" y="5012.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="1082" y="5033.248">或是使重复操作 幂等 来实现</text><path d="M1022,4921.1563 L1032,4921.1563 C1047,4921.1563 1047,5029.0938 1062,5029.0938 L1072,5029.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M779,4840.2031 L789,4840.2031 C804,4840.2031 804,4921.1563 819,4921.1563 L829,4921.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587,4732.2656 L597,4732.2656 C612,4732.2656 612,4840.2031 627,4840.2031 L637,4840.2031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,4624.3281 L234,4624.3281 C249,4624.3281 249,4732.2656 264,4732.2656 L274,4732.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="274" y="5120.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="284" y="5141.1855">进程还应当在面对突然死亡时保持健壮</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="548" y="5093.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="558" y="5114.2012">如底层硬件故障</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="702" y="5066.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="712" y="5087.2168">情况比起优雅终止出现要少</text><path d="M652,5110.0469 L662,5110.0469 C677,5110.0469 677,5083.0625 692,5083.0625 L702,5083.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="702" y="5120.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="712" y="5141.1855">但还是可能出现</text><path d="M652,5110.0469 L662,5110.0469 C677,5110.0469 677,5137.0313 692,5137.0313 L702,5137.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M498,5137.0313 L508,5137.0313 C523,5137.0313 523,5110.0469 538,5110.0469 L548,5110.0469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="548" y="5174.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="558" y="5195.1543">推荐的方式</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="678" y="5174.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="242" x="688" y="5195.1543">使用一个健壮的后端队列，例如 Beanstalkd</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="990" y="5174.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="1000" y="5195.1543">在客户端断开或超时后自动退回任务</text><path d="M940,5191 L950,5191 C965,5191 965,5191 980,5191 L990,5191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M628,5191 L638,5191 C653,5191 653,5191 668,5191 L678,5191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M498,5137.0313 L508,5137.0313 C523,5137.0313 523,5191 538,5191 L548,5191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,4624.3281 L234,4624.3281 C249,4624.3281 249,5137.0313 264,5137.0313 L274,5137.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,4624.3281 146,4624.3281 L156,4624.3281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="156" y="5821.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="166" y="5842.7793">10.开发环境与线上环境等价</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="378" y="5362.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="388" y="5384.0449">尽可能的保持开发，预发布，线上环境相同</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="676" y="5227.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="686" y="5249.123">开发环境和线上环境3个主差异</text><path d="M626,5379.8906 L636,5379.8906 C651,5379.8906 651,5244.9688 666,5244.9688 L676,5244.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="676" y="5281.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="686" y="5303.0918">时间差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="794" y="5281.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="360" x="804" y="5303.0918">开发人员正在编写的代码可能需要几天，几周，甚至几个月才会上线</text><path d="M744,5298.9375 L754,5298.9375 C769,5298.9375 769,5298.9375 784,5298.9375 L794,5298.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M626,5379.8906 L636,5379.8906 C651,5379.8906 651,5298.9375 666,5298.9375 L676,5298.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="676" y="5362.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="686" y="5384.0449">人员差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="794" y="5335.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="804" y="5357.0605">开发人员编写代码</text><path d="M744,5379.8906 L754,5379.8906 C769,5379.8906 769,5352.9063 784,5352.9063 L794,5352.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="794" y="5389.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="804" y="5411.0293">运维人员部署代码</text><path d="M744,5379.8906 L754,5379.8906 C769,5379.8906 769,5406.875 784,5406.875 L794,5406.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M626,5379.8906 L636,5379.8906 C651,5379.8906 651,5379.8906 666,5379.8906 L676,5379.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="676" y="5470.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="686" y="5491.9824">工具差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="794" y="5443.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="225" x="804" y="5464.998">开发人员或许使用 Nginx，SQLite，OS X</text><path d="M744,5487.8281 L754,5487.8281 C769,5487.8281 769,5460.8438 784,5460.8438 L794,5460.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="794" y="5497.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="249" x="804" y="5518.9668">而线上环境使用 Apache，MySQL 以及 Linux</text><path d="M744,5487.8281 L754,5487.8281 C769,5487.8281 769,5514.8125 784,5514.8125 L794,5514.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M626,5379.8906 L636,5379.8906 C651,5379.8906 651,5487.8281 666,5487.8281 L676,5487.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328,5838.625 L338,5838.625 C353,5838.625 353,5379.8906 368,5379.8906 L378,5379.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="378" y="5659.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="388" y="5680.873">12-Factor 应用想要做到 持续部署</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="636" y="5551.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="646" y="5572.9355">就必须缩小本地与线上差异</text><path d="M586,5676.7188 L596,5676.7188 C611,5676.7188 611,5568.7813 626,5568.7813 L636,5568.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="636" y="5605.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="646" y="5626.9043">缩小时间差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="778" y="5605.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="788" y="5626.9043">开发人员可以几小时，甚至几分钟就部署代码</text><path d="M728,5622.75 L738,5622.75 C753,5622.75 753,5622.75 768,5622.75 L778,5622.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M586,5676.7188 L596,5676.7188 C611,5676.7188 611,5622.75 626,5622.75 L636,5622.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="636" y="5686.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="646" y="5707.8574">缩小人员差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="778" y="5659.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="788" y="5680.873">开发人员不只要编写代码</text><path d="M728,5703.7031 L738,5703.7031 C753,5703.7031 753,5676.7188 768,5676.7188 L778,5676.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="778" y="5713.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="788" y="5734.8418">更应该密切参与部署过程以及代码在线上的表现</text><path d="M728,5703.7031 L738,5703.7031 C753,5703.7031 753,5730.6875 768,5730.6875 L778,5730.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M586,5676.7188 L596,5676.7188 C611,5676.7188 611,5703.7031 626,5703.7031 L636,5703.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="636" y="5767.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="646" y="5788.8105">缩小工具差异</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="778" y="5767.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="788" y="5788.8105">尽量保证开发环境以及线上环境的一致性</text><path d="M728,5784.6563 L738,5784.6563 C753,5784.6563 753,5784.6563 768,5784.6563 L778,5784.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M586,5676.7188 L596,5676.7188 C611,5676.7188 611,5784.6563 626,5784.6563 L636,5784.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328,5838.625 L338,5838.625 C353,5838.625 353,5676.7188 368,5676.7188 L378,5676.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="372" x="378" y="6037.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="352" x="388" y="6058.6543">12-Factor 应用的开发人员应反对在不同环境使用不同的后端服务</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="800" y="5821.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="810" y="5842.7793">即使适配器已经可以几乎消除使用上的差异</text><path d="M750,6054.5 L760,6054.5 C775,6054.5 775,5838.625 790,5838.625 L800,5838.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="800" y="5875.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="810" y="5896.748">不同的后端服务意味着会突然出现的不兼容</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="1098" y="5875.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="1108" y="5896.748">导致测试、预发布都正常的代码在线上出现问题</text><path d="M1048,5892.5938 L1058,5892.5938 C1073,5892.5938 1073,5892.5938 1088,5892.5938 L1098,5892.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750,6054.5 L760,6054.5 C775,6054.5 775,5892.5938 790,5892.5938 L800,5892.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="800" y="5956.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="810" y="5977.7012">这些错误会给持续部署带来阻力</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1038" y="5929.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="1048" y="5950.7168">从应用程序的生命周期来看</text><path d="M988,5973.5469 L998,5973.5469 C1013,5973.5469 1013,5946.5625 1028,5946.5625 L1038,5946.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="1038" y="5983.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="1048" y="6004.6855">消除这种阻力需要花费很大的代价</text><path d="M988,5973.5469 L998,5973.5469 C1013,5973.5469 1013,6000.5313 1028,6000.5313 L1038,6000.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750,6054.5 L760,6054.5 C775,6054.5 775,5973.5469 790,5973.5469 L800,5973.5469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="800" y="6145.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="810" y="6166.5918">与此同时</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="918" y="6037.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="928" y="6058.6543">借助Homebrew，apt-get等现代的打包系统</text><path d="M868,6162.4375 L878,6162.4375 C893,6162.4375 893,6054.5 908,6054.5 L918,6054.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="918" y="6091.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="928" y="6112.623">后端服务的安装与运行并不复杂</text><path d="M868,6162.4375 L878,6162.4375 C893,6162.4375 893,6108.4688 908,6108.4688 L918,6108.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="918" y="6145.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="928" y="6166.5918">使用类似 Chef 和 Puppet 的声明式配置工具</text><path d="M868,6162.4375 L878,6162.4375 C893,6162.4375 893,6162.4375 908,6162.4375 L918,6162.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="918" y="6199.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="928" y="6220.5605">结合像 Vagrant 这样轻量的虚拟环境</text><path d="M868,6162.4375 L878,6162.4375 C893,6162.4375 893,6216.4063 908,6216.4063 L918,6216.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="918" y="6253.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="928" y="6274.5293">可使开发人员的本地环境与线上环境无限接近</text><path d="M868,6162.4375 L878,6162.4375 C893,6162.4375 893,6270.375 908,6270.375 L918,6270.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750,6054.5 L760,6054.5 C775,6054.5 775,6162.4375 790,6162.4375 L800,6162.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328,5838.625 L338,5838.625 C353,5838.625 353,6054.5 368,6054.5 L378,6054.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="378" y="6361.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="388" y="6382.4668">注:不同后端服务的适配器仍有用</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="620" y="6307.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="630" y="6328.498">可以使移植后端服务变得简单</text><path d="M570,6378.3125 L580,6378.3125 C595,6378.3125 595,6324.3438 610,6324.3438 L620,6324.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="620" y="6388.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="630" y="6409.4512">但应用的所有部署</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="786" y="6361.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="796" y="6382.4668">这其中包括开发、预发布以及线上环境</text><path d="M736,6405.2969 L746,6405.2969 C761,6405.2969 761,6378.3125 776,6378.3125 L786,6378.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="786" y="6415.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="796" y="6436.4355">都应该使用同一个后端服务的相同版本</text><path d="M736,6405.2969 L746,6405.2969 C761,6405.2969 761,6432.2813 776,6432.2813 L786,6432.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M570,6378.3125 L580,6378.3125 C595,6378.3125 595,6405.2969 610,6405.2969 L620,6405.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328,5838.625 L338,5838.625 C353,5838.625 353,6378.3125 368,6378.3125 L378,6378.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,5838.625 146,5838.625 L156,5838.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="156" y="6793.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="166" y="6814.2168">11.日志</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="270" y="6496.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="280" y="6517.3887">把日志当作事件流</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="436" y="6469.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="446" y="6490.4043">日志应该是 事件流 的汇总</text><path d="M386,6513.2344 L396,6513.2344 C411,6513.2344 411,6486.25 426,6486.25 L436,6486.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="436" y="6523.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="446" y="6544.373">将所有进程输出流按照时间顺序收集起来</text><path d="M386,6513.2344 L396,6513.2344 C411,6513.2344 411,6540.2188 426,6540.2188 L436,6540.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M220,6810.0625 L230,6810.0625 C245,6810.0625 245,6513.2344 260,6513.2344 L270,6513.2344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="270" y="6847.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="249" x="280" y="6868.1855">12-factor应用本身从不考虑存储自己的输出流</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="589" y="6577.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="599" y="6598.3418">不应该试图去写或者管理日志文件</text><path d="M539,6864.0313 L549,6864.0313 C564,6864.0313 564,6594.1875 579,6594.1875 L589,6594.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="349" x="589" y="6631.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="329" x="599" y="6652.3105">相反，每一运行的进程都会直接的标准输出（stdout）事件流</text><path d="M539,6864.0313 L549,6864.0313 C564,6864.0313 564,6648.1563 579,6648.1563 L589,6648.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="589" y="6685.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="599" y="6706.2793">开发环境</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="332" x="707" y="6685.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="312" x="717" y="6706.2793">开发人员可以通过这些数据流，实时在终端看到应用的活动</text><path d="M657,6702.125 L667,6702.125 C682,6702.125 682,6702.125 697,6702.125 L707,6702.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M539,6864.0313 L549,6864.0313 C564,6864.0313 564,6702.125 579,6702.125 L589,6702.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="589" y="6928"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="599" y="6949.1387">预发布或线上部署</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="755" y="6739.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="336" x="765" y="6760.248">每个进程的输出流由运行环境截获，并将其他输出流整理在一起</text><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,6756.0938 745,6756.0938 L755,6756.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="755" y="6793.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="360" x="765" y="6814.2168">然后一并发送给一个或多个最终的处理程序，用于查看或是长期存档</text><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,6810.0625 745,6810.0625 L755,6810.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="755" y="6847.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="765" y="6868.1855">这些存档路径对于应用来说不可见也不可配置</text><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,6864.0313 745,6864.0313 L755,6864.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="755" y="6901.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="765" y="6922.1543">是完全交给程序的运行环境管理</text><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,6918 745,6918 L755,6918 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="755" y="6954.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="234" x="765" y="6976.123">类似 Logplex 和 Fluent 的开源工具可实现</text><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,6971.9688 745,6971.9688 L755,6971.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="755" y="7062.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="765" y="7084.0605">最重要的</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="873" y="7008.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="290" x="883" y="7030.0918">输出流可以发送到 Splunk 这样的日志索引及分析系统</text><path d="M823,7079.9063 L833,7079.9063 C848,7079.9063 848,7025.9375 863,7025.9375 L873,7025.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="251" x="873" y="7062.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="231" x="883" y="7084.0605">或 Hadoop/Hive 这样的通用数据存储系统</text><path d="M823,7079.9063 L833,7079.9063 C848,7079.9063 848,7079.9063 863,7079.9063 L873,7079.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="873" y="7116.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="883" y="7138.0293">这些系统为查看应用的历史活动提供了强大而灵活的功能</text><path d="M823,7079.9063 L833,7079.9063 C848,7079.9063 848,7133.875 863,7133.875 L873,7133.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M705,6944.9844 L715,6944.9844 C730,6944.9844 730,7079.9063 745,7079.9063 L755,7079.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M539,6864.0313 L549,6864.0313 C564,6864.0313 564,6944.9844 579,6944.9844 L589,6944.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M220,6810.0625 L230,6810.0625 C245,6810.0625 245,6864.0313 260,6864.0313 L270,6864.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,6810.0625 146,6810.0625 L156,6810.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="156" y="7413.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="166" y="7434.8574">12.管理进程</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="294" y="7170.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="304" y="7191.998">进程构成（process formation）</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="353" x="550" y="7170.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="333" x="560" y="7191.998">指用来处理应用的常规业务（比如处理 web 请求）的一组进程</text><path d="M500,7187.8438 L510,7187.8438 C525,7187.8438 525,7187.8438 540,7187.8438 L550,7187.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244,7430.7031 L254,7430.7031 C269,7430.7031 269,7187.8438 284,7187.8438 L294,7187.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="294" y="7251.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="304" y="7272.9512">把后台管理任务当作一次性进程运行</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="556" y="7251.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="566" y="7272.9512">开发人员经常希望执行一些管理或维护应用的一次性任务</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="926" y="7224.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="936" y="7245.9668">运行一个控制台（也被称为 REPL shell）</text><path d="M876,7268.7969 L886,7268.7969 C901,7268.7969 901,7241.8125 916,7241.8125 L926,7241.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="926" y="7278.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="936" y="7299.9355">运行一些提交到代码仓库的一次性脚本</text><path d="M876,7268.7969 L886,7268.7969 C901,7268.7969 901,7295.7813 916,7295.7813 L926,7295.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M506,7268.7969 L516,7268.7969 C531,7268.7969 531,7268.7969 546,7268.7969 L556,7268.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244,7430.7031 L254,7430.7031 C269,7430.7031 269,7268.7969 284,7268.7969 L294,7268.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="316" x="294" y="7413.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="296" x="304" y="7434.8574">一次性管理进程应该和正常的 常驻进程 使用同样的环境</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="660" y="7332.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="670" y="7353.9043">这些管理进程和常驻进程使用相同的 代码 和 配置</text><path d="M610,7430.7031 L620,7430.7031 C635,7430.7031 635,7349.75 650,7349.75 L660,7349.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="660" y="7386.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="670" y="7407.873">基于某个 发布版本 运行</text><path d="M610,7430.7031 L620,7430.7031 C635,7430.7031 635,7403.7188 650,7403.7188 L660,7403.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="660" y="7440.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="670" y="7461.8418">后台管理代码应随常驻app代码一起发布，避免同步问题</text><path d="M610,7430.7031 L620,7430.7031 C635,7430.7031 635,7457.6875 650,7457.6875 L660,7457.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="660" y="7494.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="236" x="670" y="7515.8105">所有进程类型应该使用同样的 依赖隔离 技术</text><path d="M610,7430.7031 L620,7430.7031 C635,7430.7031 635,7511.6563 650,7511.6563 L660,7511.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244,7430.7031 L254,7430.7031 C269,7430.7031 269,7430.7031 284,7430.7031 L294,7430.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="294" y="7602.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="304" y="7623.748">12-factor 青睐提供了 REPL shell 的语言</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="592" y="7548.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="602" y="7569.7793">那会让运行一次性脚本变得简单</text><path d="M542,7619.5938 L552,7619.5938 C567,7619.5938 567,7565.625 582,7565.625 L592,7565.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="592" y="7602.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="602" y="7623.748">在本地部署中</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="333" x="734" y="7602.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="313" x="744" y="7623.748">开发人员直接在命令行使用 shell 命令调用一次性管理进程</text><path d="M684,7619.5938 L694,7619.5938 C709,7619.5938 709,7619.5938 724,7619.5938 L734,7619.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M542,7619.5938 L552,7619.5938 C567,7619.5938 567,7619.5938 582,7619.5938 L592,7619.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="592" y="7656.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="602" y="7677.7168">在线上部署中</text><rect fill="#FEFECE" filter="url(#f145hppwhwwbk)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="734" y="7656.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="744" y="7677.7168">开发人员依旧可以使用ssh等来运行这样的进程</text><path d="M684,7673.5625 L694,7673.5625 C709,7673.5625 709,7673.5625 724,7673.5625 L734,7673.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M542,7619.5938 L552,7619.5938 C567,7619.5938 567,7673.5625 582,7673.5625 L592,7673.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244,7430.7031 L254,7430.7031 C269,7430.7031 269,7619.5938 284,7619.5938 L294,7619.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,3855.2734 L116,3855.2734 C131,3855.2734 131,7430.7031 146,7430.7031 L156,7430.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><!--
--></g></svg>