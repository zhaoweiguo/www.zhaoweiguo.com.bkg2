<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="8646px" preserveAspectRatio="none" style="width:1280px;height:8646px;" version="1.1" viewBox="0 0 1280 8646" width="1280px" zoomAndPan="magnify"><defs><filter height="300%" id="f6ixg21vsfsgd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="10" y="4310.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="20" y="4331.6543">云原生12要素</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="156" y="181.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="166" y="203.0449">方法论</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="262" y="20"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="272" y="41.1387">标准化流程自动配置</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="440" y="20"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="450" y="41.1387">使新的开发者花费最少的学习成本加入</text><path d="M390,36.9844 L400,36.9844 C415,36.9844 415,36.9844 430,36.9844 L440,36.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,36.9844 252,36.9844 L262,36.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="262" y="73.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="272" y="95.1074">操作系统间划清界限</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="440" y="73.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="450" y="95.1074">在各个系统中提供最大的可移植性</text><path d="M390,90.9531 L400,90.9531 C415,90.9531 415,90.9531 430,90.9531 L440,90.9531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,90.9531 252,90.9531 L262,90.9531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="262" y="127.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="272" y="149.0762">适合部署在现代的云平台</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="464" y="127.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="474" y="149.0762">为在服务器和系统管理方面节省资源</text><path d="M414,144.9219 L424,144.9219 C439,144.9219 439,144.9219 454,144.9219 L464,144.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,144.9219 252,144.9219 L262,144.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="262" y="208.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="272" y="230.0293">降低开发环境和生产环境的差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="500" y="181.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="510" y="203.0449">使用持续交付</text><path d="M450,225.875 L460,225.875 C475,225.875 475,198.8906 490,198.8906 L500,198.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="500" y="235.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="510" y="257.0137">实施敏捷开发</text><path d="M450,225.875 L460,225.875 C475,225.875 475,252.8594 490,252.8594 L500,252.8594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,225.875 252,225.875 L262,225.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="262" y="289.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="272" y="310.9824">实现扩展</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="380" y="289.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="390" y="310.9824">在工具、架构和开发流程不发生明显变化的前提下</text><path d="M330,306.8281 L340,306.8281 C355,306.8281 355,306.8281 370,306.8281 L380,306.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,306.8281 252,306.8281 L262,306.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="262" y="343.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="272" y="364.9512">语言无关性</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="392" y="343.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="402" y="364.9512">这套理论适用于任意语言和后端服务开发的app</text><path d="M342,360.7969 L352,360.7969 C367,360.7969 367,360.7969 382,360.7969 L392,360.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M212,198.8906 L222,198.8906 C237,198.8906 237,360.7969 252,360.7969 L262,360.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,198.8906 146,198.8906 L156,198.8906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="156" y="424.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="166" y="445.9043">灵感</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="250" y="397.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="260" y="418.9199">作者: Martin Fowler</text><path d="M200,441.75 L210,441.75 C225,441.75 225,414.7656 240,414.7656 L250,414.7656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="401" x="250" y="451.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="381" x="260" y="472.8887">Patterns of Enterprise Application Architecture， Refactoring</text><path d="M200,441.75 L210,441.75 C225,441.75 225,468.7344 240,468.7344 L250,468.7344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,441.75 146,441.75 L156,441.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="156" y="708.1016"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="166" y="729.2402">1.基准代码(CodeBase)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="304" x="359" y="505.7188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="284" x="369" y="526.8574">一份基准代码（Codebase），多份部署（deploy）</text><path d="M309,725.0859 L319,725.0859 C334,725.0859 334,522.7031 349,522.7031 L359,522.7031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="359" y="559.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="348" x="369" y="580.8262">一旦有多个基准代码，就不能称为一个应用，而是一个分布式系统</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="777" y="532.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="787" y="553.8418">分布式系统中的每一个组件都是一个应用</text><path d="M727,576.6719 L737,576.6719 C752,576.6719 752,549.6875 767,549.6875 L777,549.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="268" x="777" y="586.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="248" x="787" y="607.8105">每一个应用可以分别使用 12-Factor 进行开发</text><path d="M727,576.6719 L737,576.6719 C752,576.6719 752,603.6563 767,603.6563 L777,603.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M309,725.0859 L319,725.0859 C334,725.0859 334,576.6719 349,576.6719 L359,576.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="316" x="359" y="667.625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="296" x="369" y="688.7637">多个应用共享一份基准代码是有悖于 12-Factor 原则的</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="725" y="640.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="735" y="661.7793">解决方案是将共享的代码拆分为独立的类库</text><path d="M675,684.6094 L685,684.6094 C700,684.6094 700,657.625 715,657.625 L725,657.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="725" y="694.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="735" y="715.748">然后使用 依赖管理 策略去加载它们</text><path d="M675,684.6094 L685,684.6094 C700,684.6094 700,711.5938 715,711.5938 L725,711.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M309,725.0859 L319,725.0859 C334,725.0859 334,684.6094 349,684.6094 L359,684.6094 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="359" y="829.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="369" y="850.6699">每个应用可同时存在多份部署</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="585" y="748.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="595" y="769.7168">每份 部署 相当于运行了一个应用的实例</text><path d="M535,846.5156 L545,846.5156 C560,846.5156 560,765.5625 575,765.5625 L585,765.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="585" y="802.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="212" x="595" y="823.6855">通常有多个环境: dev, deploy, local...</text><path d="M535,846.5156 L545,846.5156 C560,846.5156 560,819.5313 575,819.5313 L585,819.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="585" y="856.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="595" y="877.6543">每个环境可能有多份部署</text><path d="M535,846.5156 L545,846.5156 C560,846.5156 560,873.5 575,873.5 L585,873.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="585" y="910.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="595" y="931.623">不同环境间可使用不同版本但都共享同一基准代码</text><path d="M535,846.5156 L545,846.5156 C560,846.5156 560,927.4688 575,927.4688 L585,927.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M309,725.0859 L319,725.0859 C334,725.0859 334,846.5156 349,846.5156 L359,846.5156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,725.0859 146,725.0859 L156,725.0859 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="156" y="1342.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="166" y="1363.373">2.依赖(Dependencies)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="362" y="991.4375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="372" y="1012.5762">显式声明依赖关系</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="528" y="964.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="538" y="985.5918">不会隐式依赖某些系统工具</text><path d="M478,1008.4219 L488,1008.4219 C503,1008.4219 503,981.4375 518,981.4375 L528,981.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="528" y="1018.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="538" y="1039.5605">即使这些工具存在于几乎所有系统: 如curl</text><path d="M478,1008.4219 L488,1008.4219 C503,1008.4219 503,1035.4063 518,1035.4063 L528,1035.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1008.4219 352,1008.4219 L362,1008.4219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="362" y="1126.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="25" x="372" y="1147.498">Java</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="457" y="1072.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="467" y="1093.5293">Maven</text><path d="M407,1143.3438 L417,1143.3438 C432,1143.3438 432,1089.375 447,1089.375 L457,1089.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="457" y="1126.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="467" y="1147.498">Gradle</text><path d="M407,1143.3438 L417,1143.3438 C432,1143.3438 432,1143.3438 447,1143.3438 L457,1143.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="457" y="1180.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="467" y="1201.4668">Ant(早期)</text><path d="M407,1143.3438 L417,1143.3438 C432,1143.3438 432,1197.3125 447,1197.3125 L457,1197.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1143.3438 352,1143.3438 L362,1143.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="362" y="1261.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="372" y="1282.4199">Ruby</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="462" y="1234.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="472" y="1255.4355">使用 Gemfile 作为依赖项声明清单</text><path d="M412,1278.2656 L422,1278.2656 C437,1278.2656 437,1251.2813 452,1251.2813 L462,1251.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="462" y="1288.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="472" y="1309.4043">使用 bundle exec 来进行依赖隔离</text><path d="M412,1278.2656 L422,1278.2656 C437,1278.2656 437,1305.25 452,1305.25 L462,1305.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1278.2656 352,1278.2656 L362,1278.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="362" y="1369.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="372" y="1390.3574">Python</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="475" y="1342.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="485" y="1363.373">Pip 用作依赖声明</text><path d="M425,1386.2031 L435,1386.2031 C450,1386.2031 450,1359.2188 465,1359.2188 L475,1359.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="475" y="1396.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="485" y="1417.3418">Virtualenv 用作依赖隔离</text><path d="M425,1386.2031 L435,1386.2031 C450,1386.2031 450,1413.1875 465,1413.1875 L475,1413.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1386.2031 352,1386.2031 L362,1386.2031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="28" x="362" y="1477.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="372" y="1498.2949">C</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="440" y="1450.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="450" y="1471.3105">Autoconf 用作依赖声明</text><path d="M390,1494.1406 L400,1494.1406 C415,1494.1406 415,1467.1563 430,1467.1563 L440,1467.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="440" y="1504.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="450" y="1525.2793">静态链接库用作依赖隔离</text><path d="M390,1494.1406 L400,1494.1406 C415,1494.1406 415,1521.125 430,1521.125 L440,1521.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1494.1406 352,1494.1406 L362,1494.1406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="362" y="1585.0938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="372" y="1606.2324">注意</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="456" y="1558.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="466" y="1579.248">无论用什么工具，依赖声明和依赖隔离必须一起使用</text><path d="M406,1602.0781 L416,1602.0781 C431,1602.0781 431,1575.0938 446,1575.0938 L456,1575.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="456" y="1612.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="466" y="1633.2168">否则无法满足 12-Factor 规范</text><path d="M406,1602.0781 L416,1602.0781 C431,1602.0781 431,1629.0625 446,1629.0625 L456,1629.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1602.0781 352,1602.0781 L362,1602.0781 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="362" y="1693.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="372" y="1714.1699">显式声明依赖的优点</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="540" y="1666.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="550" y="1687.1855">为新进开发者简化了环境配置流程</text><path d="M490,1710.0156 L500,1710.0156 C515,1710.0156 515,1683.0313 530,1683.0313 L540,1683.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="540" y="1720.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="200" x="550" y="1741.1543">通过一个 构建命令 安装所有的依赖项</text><path d="M490,1710.0156 L500,1710.0156 C515,1710.0156 515,1737 530,1737 L540,1737 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,1359.2188 L322,1359.2188 C337,1359.2188 337,1710.0156 352,1710.0156 L362,1710.0156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,1359.2188 146,1359.2188 L156,1359.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="156" y="2340.6563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="166" y="2361.7949">3.配置(Config)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="311" y="1854.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="321" y="1876.0762">环境变量与配置文件相比</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="513" y="1773.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="523" y="1795.123">环境变量与语言和系统无关</text><path d="M463,1871.9219 L473,1871.9219 C488,1871.9219 488,1790.9688 503,1790.9688 L513,1790.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="324" x="513" y="1827.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="304" x="523" y="1849.0918">使用环境变量方便与 Docker 等基于容器的应用配合使用</text><path d="M463,1871.9219 L473,1871.9219 C488,1871.9219 488,1844.9375 503,1844.9375 L513,1844.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="513" y="1881.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="261" x="523" y="1903.0605">也易于与 Kubernetes 的 ConfigMap 配合使用</text><path d="M463,1871.9219 L473,1871.9219 C488,1871.9219 488,1898.9063 503,1898.9063 L513,1898.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="513" y="1935.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="523" y="1957.0293">属性文件仍然可能会被不小心地提交至源码仓库</text><path d="M463,1871.9219 L473,1871.9219 C488,1871.9219 488,1952.875 503,1952.875 L513,1952.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,1871.9219 301,1871.9219 L311,1871.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="311" y="2070.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="321" y="2091.9512">在环境中存储配置</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="477" y="1989.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="487" y="2010.998">代码和配置严格分离</text><path d="M427,2087.7969 L437,2087.7969 C452,2087.7969 452,2006.8438 467,2006.8438 L477,2006.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="477" y="2043.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="487" y="2064.9668">配置文件在各部署间存在大幅差异，代码却完全一致</text><path d="M427,2087.7969 L437,2087.7969 C452,2087.7969 452,2060.8125 467,2060.8125 L477,2060.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="340" x="477" y="2097.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="320" x="487" y="2118.9355">标准: 基准代码立刻开源，而不用担心会暴露任何敏感的信息</text><path d="M427,2087.7969 L437,2087.7969 C452,2087.7969 452,2114.7813 467,2114.7813 L477,2114.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="342" x="477" y="2151.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="322" x="487" y="2172.9043">推荐: 将应用的配置存储于 环境变量 中（ env vars, env ）</text><path d="M427,2087.7969 L437,2087.7969 C452,2087.7969 452,2168.75 467,2168.75 L477,2168.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,2087.7969 301,2087.7969 L311,2087.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="311" y="2286.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="321" y="2307.8262">配置 在不同 部署环境 会有很大差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="573" y="2205.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="583" y="2226.873">这其中包括</text><path d="M523,2303.6719 L533,2303.6719 C548,2303.6719 548,2222.7188 563,2222.7188 L573,2222.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="295" x="573" y="2259.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="275" x="583" y="2280.8418">数据库，Memcached，以及其他 后端服务 的配置</text><path d="M523,2303.6719 L533,2303.6719 C548,2303.6719 548,2276.6875 563,2276.6875 L573,2276.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="282" x="573" y="2313.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="262" x="583" y="2334.8105">第三方服务的证书，如 Amazon S3、Twitter 等</text><path d="M523,2303.6719 L533,2303.6719 C548,2303.6719 548,2330.6563 563,2330.6563 L573,2330.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="573" y="2367.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="583" y="2388.7793">每份部署特有的配置，如域名等</text><path d="M523,2303.6719 L533,2303.6719 C548,2303.6719 548,2384.625 563,2384.625 L573,2384.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,2303.6719 301,2303.6719 L311,2303.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="311" y="2475.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="321" y="2496.7168">不赞同用配置分组的方式管理配置</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="561" y="2421.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="571" y="2442.748">应用将配置按照特定部署进行分组（或叫做“环境”）</text><path d="M511,2492.5625 L521,2492.5625 C536,2492.5625 536,2438.5938 551,2438.5938 L561,2438.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="561" y="2475.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="571" y="2496.7168">如: development,test, 和 production 环境</text><path d="M511,2492.5625 L521,2492.5625 C536,2492.5625 536,2492.5625 551,2492.5625 L561,2492.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="561" y="2529.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="571" y="2550.6855">不利于扩展且将导致各种配置组合的激增</text><path d="M511,2492.5625 L521,2492.5625 C536,2492.5625 536,2546.5313 551,2546.5313 L561,2546.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,2492.5625 301,2492.5625 L311,2492.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="311" y="2664.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="321" y="2685.6074">要求</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="405" y="2583.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="415" y="2604.6543">环境变量的粒度要足够小，且相对独立</text><path d="M355,2681.4531 L365,2681.4531 C380,2681.4531 380,2600.5 395,2600.5 L405,2600.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="405" y="2637.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="415" y="2658.623">不会组合成一个所谓的“环境”</text><path d="M355,2681.4531 L365,2681.4531 C380,2681.4531 380,2654.4688 395,2654.4688 L405,2654.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="405" y="2691.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="415" y="2712.5918">而是独立存在于每个部署之中</text><path d="M355,2681.4531 L365,2681.4531 C380,2681.4531 380,2708.4375 395,2708.4375 L405,2708.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="405" y="2745.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="415" y="2766.5605">在扩展需要更多种类的部署时，能够做到平滑过渡</text><path d="M355,2681.4531 L365,2681.4531 C380,2681.4531 380,2762.4063 395,2762.4063 L405,2762.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,2681.4531 301,2681.4531 L311,2681.4531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="311" y="2853.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="321" y="2874.498">不包括应用程序的内部配置</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="525" y="2799.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="535" y="2820.5293">Spring 容 器中 Bean 的依赖注入配置</text><path d="M475,2870.3438 L485,2870.3438 C500,2870.3438 500,2816.375 515,2816.375 L525,2816.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="525" y="2853.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="200" x="535" y="2874.498">Servlet 的映射配置文件 web.xml 等</text><path d="M475,2870.3438 L485,2870.3438 C500,2870.3438 500,2870.3438 515,2870.3438 L525,2870.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="525" y="2907.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="535" y="2928.4668">它们更应该被认为是代码的一部分</text><path d="M475,2870.3438 L485,2870.3438 C500,2870.3438 500,2924.3125 515,2924.3125 L525,2924.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261,2357.6406 L271,2357.6406 C286,2357.6406 286,2870.3438 301,2870.3438 L311,2870.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,2357.6406 146,2357.6406 L156,2357.6406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="156" y="3069.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="166" y="3090.373">4.后端服务(Backing Services)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="401" y="2988.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="246" x="411" y="3009.4199">把后端服务(backing services)当作附加资源</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="717" y="2961.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="727" y="2982.4355">后端服务是指程序运行所需要的通过网络调用的各种服务</text><path d="M667,3005.2656 L677,3005.2656 C692,3005.2656 692,2978.2813 707,2978.2813 L717,2978.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="717" y="3015.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="727" y="3036.4043">如数据库、消息/队列等</text><path d="M667,3005.2656 L677,3005.2656 C692,3005.2656 692,3032.25 707,3032.25 L717,3032.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351,3086.2188 L361,3086.2188 C376,3086.2188 376,3005.2656 391,3005.2656 L401,3005.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="401" y="3096.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="411" y="3117.3574">不区别对待本地或第三方服务</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="627" y="3069.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="637" y="3090.373">对应用程序而言，两种都是附加资源</text><path d="M577,3113.2031 L587,3113.2031 C602,3113.2031 602,3086.2188 617,3086.2188 L627,3086.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="627" y="3123.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="637" y="3144.3418">通过一个 url 或是其他来获取数据</text><path d="M577,3113.2031 L587,3113.2031 C602,3113.2031 602,3140.1875 617,3140.1875 L627,3140.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351,3086.2188 L361,3086.2188 C376,3086.2188 376,3113.2031 391,3113.2031 L401,3113.2031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="401" y="3177.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="411" y="3198.3105">这些资源和它们附属的部署保持松耦合</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="675" y="3177.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="685" y="3198.3105">部署可以按需加载或卸载资源</text><path d="M625,3194.1563 L635,3194.1563 C650,3194.1563 650,3194.1563 665,3194.1563 L675,3194.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351,3086.2188 L361,3086.2188 C376,3086.2188 376,3194.1563 391,3194.1563 L401,3194.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,3086.2188 146,3086.2188 L156,3086.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="156" y="3662.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="166" y="3684.0293">5.构建，发布，运行 (Build、Release、Run)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="476" y="3285.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="486" y="3306.248">严格分离构建和运行</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="654" y="3231.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="664" y="3252.2793">严格区分构建，发布，运行这三个步骤</text><path d="M604,3302.0938 L614,3302.0938 C629,3302.0938 629,3248.125 644,3248.125 L654,3248.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="654" y="3285.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="664" y="3306.248">根本在于，要严格区分应用的非运行时状态和运行时状态</text><path d="M604,3302.0938 L614,3302.0938 C629,3302.0938 629,3302.0938 644,3302.0938 L654,3302.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="404" x="654" y="3339.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="384" x="664" y="3360.2168">构建是将应用的源代码编译打包成可执行软件的过程，属于非运行时行为</text><path d="M604,3302.0938 L614,3302.0938 C629,3302.0938 629,3356.0625 644,3356.0625 L654,3356.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426,3679.875 L436,3679.875 C451,3679.875 451,3302.0938 466,3302.0938 L476,3302.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="476" y="3500.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="486" y="3522.123">基准代码 转化为一份部署</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="682" y="3420.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="692" y="3441.1699">构建阶段</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="800" y="3393.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="810" y="3414.1855">将代码仓库转化为可执行包的过程</text><path d="M750,3437.0156 L760,3437.0156 C775,3437.0156 775,3410.0313 790,3410.0313 L800,3410.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="800" y="3447.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="810" y="3468.1543">构建时会使用指定版本的代码</text><path d="M750,3437.0156 L760,3437.0156 C775,3437.0156 775,3464 790,3464 L800,3464 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M632,3517.9688 L642,3517.9688 C657,3517.9688 657,3437.0156 672,3437.0156 L682,3437.0156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="682" y="3527.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="692" y="3549.1074">发布阶段</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="800" y="3500.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="810" y="3522.123">将构建的结果和当前部署所需 配置 相结合</text><path d="M750,3544.9531 L760,3544.9531 C775,3544.9531 775,3517.9688 790,3517.9688 L800,3517.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="800" y="3554.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="810" y="3576.0918">并能够立刻在运行环境中投入使用</text><path d="M750,3544.9531 L760,3544.9531 C775,3544.9531 775,3571.9375 790,3571.9375 L800,3571.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M632,3517.9688 L642,3517.9688 C657,3517.9688 657,3544.9531 672,3544.9531 L682,3544.9531 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="682" y="3608.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="692" y="3630.0605">运行阶段</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="344" x="800" y="3608.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="324" x="810" y="3630.0605">针对选定的发布版本，在执行环境中启动一系列应用程序进程</text><path d="M750,3625.9063 L760,3625.9063 C775,3625.9063 775,3625.9063 790,3625.9063 L800,3625.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M632,3517.9688 L642,3517.9688 C657,3517.9688 657,3625.9063 672,3625.9063 L682,3625.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426,3679.875 L436,3679.875 C451,3679.875 451,3517.9688 466,3517.9688 L476,3517.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="476" y="3797.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="486" y="3818.9512">建议</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="570" y="3689.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="580" y="3711.0137">运行阶段</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="688" y="3662.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="698" y="3684.0293">不一定需要人为触发，也可以自动进行</text><path d="M638,3706.8594 L648,3706.8594 C663,3706.8594 663,3679.875 678,3679.875 L688,3679.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="688" y="3716.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="698" y="3737.998">运行阶段应该保持尽可能少的模块</text><path d="M638,3706.8594 L648,3706.8594 C663,3706.8594 663,3733.8438 678,3733.8438 L688,3733.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520,3814.7969 L530,3814.7969 C545,3814.7969 545,3706.8594 560,3706.8594 L570,3706.8594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="570" y="3851.7813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="580" y="3872.9199">构建阶段</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="688" y="3770.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="698" y="3791.9668">需要开发人员触发构建操作</text><path d="M638,3868.7656 L648,3868.7656 C663,3868.7656 663,3787.8125 678,3787.8125 L688,3787.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="688" y="3824.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="698" y="3845.9355">是可以相对复杂一些的</text><path d="M638,3868.7656 L648,3868.7656 C663,3868.7656 663,3841.7813 678,3841.7813 L688,3841.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="688" y="3878.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="698" y="3899.9043">因为错误信息能够立刻展示在开发人员面前</text><path d="M638,3868.7656 L648,3868.7656 C663,3868.7656 663,3895.75 678,3895.75 L688,3895.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="688" y="3932.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="698" y="3953.873">从而得到妥善处理</text><path d="M638,3868.7656 L648,3868.7656 C663,3868.7656 663,3949.7188 678,3949.7188 L688,3949.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520,3814.7969 L530,3814.7969 C545,3814.7969 545,3868.7656 560,3868.7656 L570,3868.7656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426,3679.875 L436,3679.875 C451,3679.875 451,3814.7969 466,3814.7969 L476,3814.7969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="476" y="4040.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="486" y="4061.8105">规定</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="570" y="3986.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="580" y="4007.8418">禁止在运行阶段改动代码</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="772" y="3986.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="782" y="4007.8418">这样做会导致基准代码失去同步</text><path d="M722,4003.6875 L732,4003.6875 C747,4003.6875 747,4003.6875 762,4003.6875 L772,4003.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520,4057.6563 L530,4057.6563 C545,4057.6563 545,4003.6875 560,4003.6875 L570,4003.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="570" y="4067.6563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="580" y="4088.7949">建议每个发布版本对应一个唯一的发布 ID</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="860" y="4040.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="870" y="4061.8105">发布版本只能追加而不能修改</text><path d="M810,4084.6406 L820,4084.6406 C835,4084.6406 835,4057.6563 850,4057.6563 L860,4057.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="860" y="4094.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="870" y="4115.7793">除了回滚，其他变动都应该产生新的发布版本</text><path d="M810,4084.6406 L820,4084.6406 C835,4084.6406 835,4111.625 850,4111.625 L860,4111.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M520,4057.6563 L530,4057.6563 C545,4057.6563 545,4084.6406 560,4084.6406 L570,4084.6406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426,3679.875 L436,3679.875 C451,3679.875 451,4057.6563 466,4057.6563 L476,4057.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,3679.875 146,3679.875 L156,3679.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="156" y="4283.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="166" y="4304.6699">6.进程(Processes)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="337" y="4202.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="347" y="4223.7168">以一个或多个无状态进程运行应用</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="587" y="4148.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="597" y="4169.748">应用的进程必须无状态且无共享</text><path d="M537,4219.5625 L547,4219.5625 C562,4219.5625 562,4165.5938 577,4165.5938 L587,4165.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="587" y="4202.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="597" y="4223.7168">任何需要持久化的数据都要存储在后端服务内</text><path d="M537,4219.5625 L547,4219.5625 C562,4219.5625 562,4219.5625 577,4219.5625 L587,4219.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="587" y="4256.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="597" y="4277.6855">这样才能做到水平伸缩，从而利用云平台弹性伸缩的能力</text><path d="M537,4219.5625 L547,4219.5625 C562,4219.5625 562,4273.5313 577,4273.5313 L587,4273.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M287,4300.5156 L297,4300.5156 C312,4300.5156 312,4219.5625 327,4219.5625 L337,4219.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="337" y="4364.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="347" y="4385.623">粘性 session 是 12-Factor 极力反对的</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="627" y="4310.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="360" x="637" y="4331.6543">粘性 session是指将用户 session 中的数据缓存至某进程的内存中</text><path d="M577,4381.4688 L587,4381.4688 C602,4381.4688 602,4327.5 617,4327.5 L627,4327.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="627" y="4364.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="637" y="4385.623">并将同一用户的后续请求路由到同一个进程</text><path d="M577,4381.4688 L587,4381.4688 C602,4381.4688 602,4381.4688 617,4381.4688 L627,4381.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="627" y="4418.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="637" y="4439.5918">Session 的数据应存在带有过期时间的缓存中</text><path d="M577,4381.4688 L587,4381.4688 C602,4381.4688 602,4435.4375 617,4435.4375 L627,4435.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M287,4300.5156 L297,4300.5156 C312,4300.5156 312,4381.4688 327,4381.4688 L337,4381.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,4300.5156 146,4300.5156 L156,4300.5156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="156" y="4607.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="166" y="4628.4824">7.端口绑定(Port Binding)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="238" x="372" y="4526.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="218" x="382" y="4547.5293">通过端口绑定(Port binding)来提供服务</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="660" y="4472.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="670" y="4493.5605">对于发布服务的环境不应该有过多的要求</text><path d="M610,4543.375 L620,4543.375 C635,4543.375 635,4489.4063 650,4489.4063 L660,4489.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="660" y="4526.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="670" y="4547.5293">不需要依赖云平台提供应用运行容器</text><path d="M610,4543.375 L620,4543.375 C635,4543.375 635,4543.375 650,4543.375 L660,4543.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="660" y="4580.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="670" y="4601.498">只要云平台分配某个端口对外发布服务即可</text><path d="M610,4543.375 L620,4543.375 C635,4543.375 635,4597.3438 650,4597.3438 L660,4597.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322,4624.3281 L332,4624.3281 C347,4624.3281 347,4543.375 362,4543.375 L372,4543.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="372" y="4661.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="382" y="4682.4512">实现思路</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="490" y="4634.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="500" y="4655.4668">将网络服务器类库通过 依赖声明 载入应用</text><path d="M440,4678.2969 L450,4678.2969 C465,4678.2969 465,4651.3125 480,4651.3125 L490,4651.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="371" x="490" y="4688.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="351" x="500" y="4709.4355">调用方将服务方提供的相应 URL 当作资源存入 配置 以备将来调用</text><path d="M440,4678.2969 L450,4678.2969 C465,4678.2969 465,4705.2813 480,4705.2813 L490,4705.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322,4624.3281 L332,4624.3281 C347,4624.3281 347,4678.2969 362,4678.2969 L372,4678.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="372" y="4742.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="382" y="4763.4043">说明</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="416" x="466" y="4742.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="396" x="476" y="4763.4043">通过端口绑定访问服务也意味着任何应用都可以成为另一个应用的后端服务</text><path d="M416,4759.25 L426,4759.25 C441,4759.25 441,4759.25 456,4759.25 L466,4759.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322,4624.3281 L332,4624.3281 C347,4624.3281 347,4759.25 362,4759.25 L372,4759.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,4624.3281 146,4624.3281 L156,4624.3281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="156" y="4931.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="166" y="4952.2949">8.并发(Concurrency)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="350" y="4796.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="360" y="4817.373">能够通过水平伸缩应用程序进程来实现并发</text><path d="M300,4948.1406 L310,4948.1406 C325,4948.1406 325,4813.2188 340,4813.2188 L350,4813.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="350" y="4904.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="360" y="4925.3105">通过进程模型进行扩展</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="540" y="4850.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="550" y="4871.3418">在 12-factor 应用中，进程是一等公民</text><path d="M490,4921.1563 L500,4921.1563 C515,4921.1563 515,4867.1875 530,4867.1875 L540,4867.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="540" y="4904.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="165" x="550" y="4925.3105">主要借鉴于 unix 守护进程模型</text><path d="M490,4921.1563 L500,4921.1563 C515,4921.1563 515,4921.1563 530,4921.1563 L540,4921.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="508" x="540" y="4958.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="488" x="550" y="4979.2793">12-Factor 应用的进程所具备的无共享，水平分区的特性 意味着添加并发会变得简单而稳妥</text><path d="M490,4921.1563 L500,4921.1563 C515,4921.1563 515,4975.125 530,4975.125 L540,4975.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M300,4948.1406 L310,4948.1406 C325,4948.1406 325,4921.1563 340,4921.1563 L350,4921.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="288" x="350" y="5039.0938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="268" x="360" y="5060.2324">12-Factor的进程无需守护进程或是写入 PID 文件</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="308" x="688" y="5012.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="288" x="698" y="5033.248">相反的，应该借助操作系统的进程管理器来管理输出流</text><path d="M638,5056.0781 L648,5056.0781 C663,5056.0781 663,5029.0938 678,5029.0938 L688,5029.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="688" y="5066.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="336" x="698" y="5087.2168">响应崩溃的进程，及处理用户触发的重启和关闭超级进程的请求</text><path d="M638,5056.0781 L648,5056.0781 C663,5056.0781 663,5083.0625 678,5083.0625 L688,5083.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M300,4948.1406 L310,4948.1406 C325,4948.1406 325,5056.0781 340,5056.0781 L350,5056.0781 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,4948.1406 146,4948.1406 L156,4948.1406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="156" y="5740.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="166" y="5761.8262">9.易处理(Disposability)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="362" y="5227.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="372" y="5249.123">12-Factor 应用可快速启动和优雅终止</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="640" y="5120.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="650" y="5141.1855">可最大化健壮性</text><path d="M590,5244.9688 L600,5244.9688 C615,5244.9688 615,5137.0313 630,5137.0313 L640,5137.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="640" y="5174.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="176" x="650" y="5195.1543">进程是易处理（disposable）的</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="886" y="5120.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="896" y="5141.1855">意思是说它们可以瞬间开启或停止</text><path d="M836,5191 L846,5191 C861,5191 861,5137.0313 876,5137.0313 L886,5137.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="886" y="5174.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="896" y="5195.1543">有利于快速、弹性的伸缩应用</text><path d="M836,5191 L846,5191 C861,5191 861,5191 876,5191 L886,5191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="886" y="5227.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="896" y="5249.123">迅速部署变化的代码或配置，稳健的部署应用</text><path d="M836,5191 L846,5191 C861,5191 861,5244.9688 876,5244.9688 L886,5244.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M590,5244.9688 L600,5244.9688 C615,5244.9688 615,5191 630,5191 L640,5191 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="640" y="5308.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="650" y="5330.0762">应设计能应对意外、不优雅的终结</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="890" y="5281.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="900" y="5303.0918">Crash-only design</text><path d="M840,5325.9219 L850,5325.9219 C865,5325.9219 865,5298.9375 880,5298.9375 L890,5298.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="890" y="5335.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="900" y="5357.0605">将这种概念转化为合乎逻辑的理论</text><path d="M840,5325.9219 L850,5325.9219 C865,5325.9219 865,5352.9063 880,5352.9063 L890,5352.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M590,5244.9688 L600,5244.9688 C615,5244.9688 615,5325.9219 630,5325.9219 L640,5325.9219 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,5757.6719 L322,5757.6719 C337,5757.6719 337,5244.9688 352,5244.9688 L362,5244.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="362" y="5416.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="372" y="5438.0137">进程应当追求「最小启动时间」</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="600" y="5389.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="610" y="5411.0293">更少的启动时间提供了更敏捷的发布以及扩展过程</text><path d="M550,5433.8594 L560,5433.8594 C575,5433.8594 575,5406.875 590,5406.875 L600,5406.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="600" y="5443.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="610" y="5464.998">还增加了健壮性</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="392" x="754" y="5443.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="372" x="764" y="5464.998">因为进程管理器可以在授权情形下很容易的将进程搬到新的物理机器上</text><path d="M704,5460.8438 L714,5460.8438 C729,5460.8438 729,5460.8438 744,5460.8438 L754,5460.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M550,5433.8594 L560,5433.8594 C575,5433.8594 575,5460.8438 590,5460.8438 L600,5460.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,5757.6719 L322,5757.6719 C337,5757.6719 337,5433.8594 352,5433.8594 L362,5433.8594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="362" y="5821.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="372" y="5842.7793">进程接收终止信号就优雅的终止</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="600" y="5497.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="610" y="5518.9668">终止信号:SIGTERM</text><path d="M550,5838.625 L560,5838.625 C575,5838.625 575,5514.8125 590,5514.8125 L600,5514.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="600" y="5659.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="610" y="5680.873">对网络进程</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="730" y="5551.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="740" y="5572.9355">优雅终止是指停止监听服务的端口</text><path d="M680,5676.7188 L690,5676.7188 C705,5676.7188 705,5568.7813 720,5568.7813 L730,5568.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="730" y="5605.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="740" y="5626.9043">即拒绝所有新请求</text><path d="M680,5676.7188 L690,5676.7188 C705,5676.7188 705,5622.75 720,5622.75 L730,5622.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="730" y="5659.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="740" y="5680.873">并继续执行当前已接收的请求，然后退出</text><path d="M680,5676.7188 L690,5676.7188 C705,5676.7188 705,5676.7188 720,5676.7188 L730,5676.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="730" y="5740.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="740" y="5761.8262">隐含的要求</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="860" y="5713.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="870" y="5734.8418">HTTP请求大多都很短(不会超过几秒钟)</text><path d="M810,5757.6719 L820,5757.6719 C835,5757.6719 835,5730.6875 850,5730.6875 L860,5730.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="860" y="5767.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="870" y="5788.8105">在长轮询中，客户端在丢失连接后应该马上尝试重连</text><path d="M810,5757.6719 L820,5757.6719 C835,5757.6719 835,5784.6563 850,5784.6563 L860,5784.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M680,5676.7188 L690,5676.7188 C705,5676.7188 705,5757.6719 720,5757.6719 L730,5757.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M550,5838.625 L560,5838.625 C575,5838.625 575,5676.7188 590,5676.7188 L600,5676.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="600" y="5983.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="610" y="6004.6855">对于 worker 进程</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="768" y="5821.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="778" y="5842.7793">优雅终止是指将当前任务退回队列</text><path d="M718,6000.5313 L728,6000.5313 C743,6000.5313 743,5838.625 758,5838.625 L768,5838.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="768" y="5875.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="778" y="5896.748">RabbitMQ 中</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="913" y="5875.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="174" x="923" y="5896.748">worker 可以发送一个NACK信号</text><path d="M863,5892.5938 L873,5892.5938 C888,5892.5938 888,5892.5938 903,5892.5938 L913,5892.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718,6000.5313 L728,6000.5313 C743,6000.5313 743,5892.5938 758,5892.5938 L768,5892.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="768" y="5929.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="778" y="5950.7168">Beanstalkd 中</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="924" y="5929.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="258" x="934" y="5950.7168">任务终止并退回队列会在worker断开时自动触发</text><path d="M874,5946.5625 L884,5946.5625 C899,5946.5625 899,5946.5625 914,5946.5625 L924,5946.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718,6000.5313 L728,6000.5313 C743,6000.5313 743,5946.5625 758,5946.5625 L768,5946.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="768" y="5983.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="173" x="778" y="6004.6855">锁机制的系统诸如:Delayed Job</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1011" y="5983.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1021" y="6004.6855">需要确定释放了系统资源</text><path d="M961,6000.5313 L971,6000.5313 C986,6000.5313 986,6000.5313 1001,6000.5313 L1011,6000.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718,6000.5313 L728,6000.5313 C743,6000.5313 743,6000.5313 758,6000.5313 L768,6000.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="768" y="6091.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="778" y="6112.623">隐含的要求</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="898" y="6037.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="908" y="6058.6543">任务都应可重复执行</text><path d="M848,6108.4688 L858,6108.4688 C873,6108.4688 873,6054.5 888,6054.5 L898,6054.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="898" y="6091.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="908" y="6112.623">主要由将结果包装进事务</text><path d="M848,6108.4688 L858,6108.4688 C873,6108.4688 873,6108.4688 888,6108.4688 L898,6108.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="898" y="6145.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="908" y="6166.5918">或是使重复操作「幂等」来实现</text><path d="M848,6108.4688 L858,6108.4688 C873,6108.4688 873,6162.4375 888,6162.4375 L898,6162.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718,6000.5313 L728,6000.5313 C743,6000.5313 743,6108.4688 758,6108.4688 L768,6108.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M550,5838.625 L560,5838.625 C575,5838.625 575,6000.5313 590,6000.5313 L600,6000.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,5757.6719 L322,5757.6719 C337,5757.6719 337,5838.625 352,5838.625 L362,5838.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="362" y="6280.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="372" y="6301.5137">进程应在面对突然死亡时保持健壮</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="612" y="6226.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="622" y="6247.5449">如底层硬件故障</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="766" y="6199.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="776" y="6220.5605">情况比起优雅终止出现要少</text><path d="M716,6243.3906 L726,6243.3906 C741,6243.3906 741,6216.4063 756,6216.4063 L766,6216.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="766" y="6253.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="776" y="6274.5293">但还是可能出现</text><path d="M716,6243.3906 L726,6243.3906 C741,6243.3906 741,6270.375 756,6270.375 L766,6270.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M562,6297.3594 L572,6297.3594 C587,6297.3594 587,6243.3906 602,6243.3906 L612,6243.3906 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="612" y="6334.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="622" y="6355.4824">推荐的方式</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="742" y="6307.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="242" x="752" y="6328.498">使用一个健壮的后端队列，例如 Beanstalkd</text><path d="M692,6351.3281 L702,6351.3281 C717,6351.3281 717,6324.3438 732,6324.3438 L742,6324.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="742" y="6361.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="752" y="6382.4668">在客户端断开或超时后自动退回任务</text><path d="M692,6351.3281 L702,6351.3281 C717,6351.3281 717,6378.3125 732,6378.3125 L742,6378.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M562,6297.3594 L572,6297.3594 C587,6297.3594 587,6351.3281 602,6351.3281 L612,6351.3281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312,5757.6719 L322,5757.6719 C337,5757.6719 337,6297.3594 352,6297.3594 L362,6297.3594 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,5757.6719 146,5757.6719 L156,5757.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="156" y="6901.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="233" x="166" y="6922.1543">10.开发与线上环境等价(Dev/Prod parity)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="459" y="6577.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="469" y="6598.3418">尽可能的保持开发，线上环境相同</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="709" y="6415.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="164" x="719" y="6436.4355">开发环境和线上环境3个主差异</text><path d="M659,6594.1875 L669,6594.1875 C684,6594.1875 684,6432.2813 699,6432.2813 L709,6432.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="709" y="6469.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="719" y="6490.4043">时间差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="380" x="827" y="6469.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="360" x="837" y="6490.4043">开发人员正在编写的代码可能需要几天，几周，甚至几个月才会上线</text><path d="M777,6486.25 L787,6486.25 C802,6486.25 802,6486.25 817,6486.25 L827,6486.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,6594.1875 L669,6594.1875 C684,6594.1875 684,6486.25 699,6486.25 L709,6486.25 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="709" y="6577.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="719" y="6598.3418">人员差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="827" y="6523.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="837" y="6544.373">开发环境:开发人员编写代码并调试</text><path d="M777,6594.1875 L787,6594.1875 C802,6594.1875 802,6540.2188 817,6540.2188 L827,6540.2188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="827" y="6577.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="837" y="6598.3418">线上环境:运维人员部署代码</text><path d="M777,6594.1875 L787,6594.1875 C802,6594.1875 802,6594.1875 817,6594.1875 L827,6594.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="827" y="6631.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="837" y="6652.3105">不同的操作方式可能带来环境的差异</text><path d="M777,6594.1875 L787,6594.1875 C802,6594.1875 802,6648.1563 817,6648.1563 L827,6648.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,6594.1875 L669,6594.1875 C684,6594.1875 684,6594.1875 699,6594.1875 L709,6594.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="709" y="6712.125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="719" y="6733.2637">工具差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="827" y="6685.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="225" x="837" y="6706.2793">开发人员或许使用 Nginx，SQLite，OS X</text><path d="M777,6729.1094 L787,6729.1094 C802,6729.1094 802,6702.125 817,6702.125 L827,6702.125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="827" y="6739.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="249" x="837" y="6760.248">而线上环境使用 Apache，MySQL 以及 Linux</text><path d="M777,6729.1094 L787,6729.1094 C802,6729.1094 802,6756.0938 817,6756.0938 L827,6756.0938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,6594.1875 L669,6594.1875 C684,6594.1875 684,6729.1094 699,6729.1094 L709,6729.1094 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409,6918 L419,6918 C434,6918 434,6594.1875 449,6594.1875 L459,6594.1875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="459" y="6901.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="469" y="6922.1543">要做到「持续部署」</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="637" y="6793.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="647" y="6814.2168">就必须缩小本地与线上差异</text><path d="M587,6918 L597,6918 C612,6918 612,6810.0625 627,6810.0625 L637,6810.0625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="637" y="6847.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="647" y="6868.1855">缩小时间差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="779" y="6847.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="789" y="6868.1855">开发人员可以几小时，甚至几分钟就部署代码</text><path d="M729,6864.0313 L739,6864.0313 C754,6864.0313 754,6864.0313 769,6864.0313 L779,6864.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587,6918 L597,6918 C612,6918 612,6864.0313 627,6864.0313 L637,6864.0313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="637" y="6928"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="647" y="6949.1387">缩小人员差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="779" y="6901.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="789" y="6922.1543">开发人员不只要编写代码</text><path d="M729,6944.9844 L739,6944.9844 C754,6944.9844 754,6918 769,6918 L779,6918 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="779" y="6954.9844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="252" x="789" y="6976.123">更应该密切参与部署过程以及代码在线上的表现</text><path d="M729,6944.9844 L739,6944.9844 C754,6944.9844 754,6971.9688 769,6971.9688 L779,6971.9688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587,6918 L597,6918 C612,6918 612,6944.9844 627,6944.9844 L637,6944.9844 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="637" y="7008.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="647" y="7030.0918">缩小工具差异</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="779" y="7008.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="789" y="7030.0918">尽量保证开发环境以及线上环境的一致性</text><path d="M729,7025.9375 L739,7025.9375 C754,7025.9375 754,7025.9375 769,7025.9375 L779,7025.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587,6918 L597,6918 C612,6918 612,7025.9375 627,7025.9375 L637,7025.9375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409,6918 L419,6918 C434,6918 434,6918 449,6918 L459,6918 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="459" y="7224.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="469" y="7245.9668">反对在不同环境使用不同的后端服务</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="721" y="7062.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="731" y="7084.0605">即使适配器已经可以几乎消除使用上的差异</text><path d="M671,7241.8125 L681,7241.8125 C696,7241.8125 696,7079.9063 711,7079.9063 L721,7079.9063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="721" y="7116.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="731" y="7138.0293">不同的后端服务意味着会突然出现的不兼容</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1019" y="7116.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="1029" y="7138.0293">导致测试正常的代码在线上出现问题</text><path d="M969,7133.875 L979,7133.875 C994,7133.875 994,7133.875 1009,7133.875 L1019,7133.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671,7241.8125 L681,7241.8125 C696,7241.8125 696,7133.875 711,7133.875 L721,7133.875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="721" y="7197.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="731" y="7218.9824">这些错误会给持续部署带来阻力</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="959" y="7170.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="969" y="7191.998">从应用程序的生命周期来看</text><path d="M909,7214.8281 L919,7214.8281 C934,7214.8281 934,7187.8438 949,7187.8438 L959,7187.8438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="959" y="7224.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="969" y="7245.9668">消除这种阻力需要花费很大的代价</text><path d="M909,7214.8281 L919,7214.8281 C934,7214.8281 934,7241.8125 949,7241.8125 L959,7241.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671,7241.8125 L681,7241.8125 C696,7241.8125 696,7214.8281 711,7214.8281 L721,7214.8281 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="721" y="7332.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="731" y="7353.9043">注:不同后端服务的适配器仍有用</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="963" y="7278.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="973" y="7299.9355">可使服务移植变得简单</text><path d="M913,7349.75 L923,7349.75 C938,7349.75 938,7295.7813 953,7295.7813 L963,7295.7813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="963" y="7359.75"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="973" y="7380.8887">但部署</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="1069" y="7332.7656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="1079" y="7353.9043">这其中包括开发以及线上环境</text><path d="M1019,7376.7344 L1029,7376.7344 C1044,7376.7344 1044,7349.75 1059,7349.75 L1069,7349.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="1069" y="7386.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="1079" y="7407.873">应该用同一个后端服务的相同版本</text><path d="M1019,7376.7344 L1029,7376.7344 C1044,7376.7344 1044,7403.7188 1059,7403.7188 L1069,7403.7188 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M913,7349.75 L923,7349.75 C938,7349.75 938,7376.7344 953,7376.7344 L963,7376.7344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671,7241.8125 L681,7241.8125 C696,7241.8125 696,7349.75 711,7349.75 L721,7349.75 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409,6918 L419,6918 C434,6918 434,7241.8125 449,7241.8125 L459,7241.8125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,6918 146,6918 L156,6918 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="156" y="7710.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="166" y="7731.6855">11.日志(Logs)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="309" y="7467.6875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="319" y="7488.8262">把日志当作事件流</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="475" y="7440.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="485" y="7461.8418">日志应该是「事件流」的汇总</text><path d="M425,7484.6719 L435,7484.6719 C450,7484.6719 450,7457.6875 465,7457.6875 L475,7457.6875 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="475" y="7494.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="485" y="7515.8105">将所有进程输出流按照时间顺序收集起来</text><path d="M425,7484.6719 L435,7484.6719 C450,7484.6719 450,7511.6563 465,7511.6563 L475,7511.6563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M259,7727.5313 L269,7727.5313 C284,7727.5313 284,7484.6719 299,7484.6719 L309,7484.6719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="309" y="7764.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="319" y="7785.6543">本身从不考虑存储自己的输出流</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="547" y="7548.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="557" y="7569.7793">不应该试图去写或者管理日志文件</text><path d="M497,7781.5 L507,7781.5 C522,7781.5 522,7565.625 537,7565.625 L547,7565.625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="337" x="547" y="7602.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="317" x="557" y="7623.748">相反，每一运行的进程都会直接标准输出（stdout）事件流</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="934" y="7602.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="944" y="7623.748">开发人员可通过这些数据流，实时在终端看到应用的活动</text><path d="M884,7619.5938 L894,7619.5938 C909,7619.5938 909,7619.5938 924,7619.5938 L934,7619.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M497,7781.5 L507,7781.5 C522,7781.5 522,7619.5938 537,7619.5938 L547,7619.5938 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="547" y="7737.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="557" y="7758.6699">线上部署</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="665" y="7656.5781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="675" y="7677.7168">输出流由运行环境截获然后处理，用于查看或存档</text><path d="M615,7754.5156 L625,7754.5156 C640,7754.5156 640,7673.5625 655,7673.5625 L665,7673.5625 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="665" y="7710.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="675" y="7731.6855">这些存档路径对于应用来说不可见也不可配置</text><path d="M615,7754.5156 L625,7754.5156 C640,7754.5156 640,7727.5313 655,7727.5313 L665,7727.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="665" y="7764.5156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="675" y="7785.6543">是完全交给程序的运行环境管理</text><path d="M615,7754.5156 L625,7754.5156 C640,7754.5156 640,7781.5 655,7781.5 L665,7781.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="665" y="7818.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="234" x="675" y="7839.623">类似 Logplex 和 Fluent 的开源工具可实现</text><path d="M615,7754.5156 L625,7754.5156 C640,7754.5156 640,7835.4688 655,7835.4688 L665,7835.4688 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M497,7781.5 L507,7781.5 C522,7781.5 522,7754.5156 537,7754.5156 L547,7754.5156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="547" y="7926.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="557" y="7947.5605">最重要的</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="665" y="7872.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="290" x="675" y="7893.5918">输出流可以发送到 Splunk 这样的日志索引及分析系统</text><path d="M615,7943.4063 L625,7943.4063 C640,7943.4063 640,7889.4375 655,7889.4375 L665,7889.4375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="251" x="665" y="7926.4219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="231" x="675" y="7947.5605">或 Hadoop/Hive 这样的通用数据存储系统</text><path d="M615,7943.4063 L625,7943.4063 C640,7943.4063 640,7943.4063 655,7943.4063 L665,7943.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="665" y="7980.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="675" y="8001.5293">这些系统为查看应用的历史活动提供了强大而灵活的功能</text><path d="M615,7943.4063 L625,7943.4063 C640,7943.4063 640,7997.375 655,7997.375 L665,7997.375 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M497,7781.5 L507,7781.5 C522,7781.5 522,7943.4063 537,7943.4063 L547,7943.4063 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M259,7727.5313 L269,7727.5313 C284,7727.5313 284,7781.5 299,7781.5 L309,7781.5 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,7727.5313 146,7727.5313 L156,7727.5313 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="205" x="156" y="8317.6953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="166" y="8338.834">12.管理进程(Admin Processes)</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="411" y="8034.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="421" y="8055.498">进程构成（process formation）</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="303" x="667" y="8034.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="283" x="677" y="8055.498">指处理应用的常规业务(如处理 web 请求)的一组进程</text><path d="M617,8051.3438 L627,8051.3438 C642,8051.3438 642,8051.3438 657,8051.3438 L667,8051.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M361,8334.6797 L371,8334.6797 C386,8334.6797 386,8051.3438 401,8051.3438 L411,8051.3438 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="411" y="8155.7891"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="421" y="8176.9277">把后台管理任务当作一次性进程运行</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="308" x="673" y="8115.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="288" x="683" y="8136.4512">开发人员常希望执行一些管理或维护应用的一次性任务</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="177" x="1031" y="8088.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="1041" y="8109.4668">运行一个控制台(REPL shell)</text><path d="M981,8132.2969 L991,8132.2969 C1006,8132.2969 1006,8105.3125 1021,8105.3125 L1031,8105.3125 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="1031" y="8142.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="204" x="1041" y="8163.4355">运行一些提交到代码仓库的一次性脚本</text><path d="M981,8132.2969 L991,8132.2969 C1006,8132.2969 1006,8159.2813 1021,8159.2813 L1031,8159.2813 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M623,8172.7734 L633,8172.7734 C648,8172.7734 648,8132.2969 663,8132.2969 L673,8132.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="673" y="8169.2813"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="683" y="8190.4199">这类任务被称为后台管理任务</text><path d="M623,8172.7734 L633,8172.7734 C648,8172.7734 648,8186.2656 663,8186.2656 L673,8186.2656 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="673" y="8223.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="683" y="8244.3887">如检查和清理环境、迁移数据等</text><path d="M623,8172.7734 L633,8172.7734 C648,8172.7734 648,8240.2344 663,8240.2344 L673,8240.2344 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M361,8334.6797 L371,8334.6797 C386,8334.6797 386,8172.7734 401,8172.7734 L411,8172.7734 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="316" x="411" y="8358.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="296" x="421" y="8379.3105">一次性管理进程应该和正常的 常驻进程 使用同样的环境</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="777" y="8277.2188"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="264" x="787" y="8298.3574">这些管理进程和常驻进程使用相同的 代码 和 配置</text><path d="M727,8375.1563 L737,8375.1563 C752,8375.1563 752,8294.2031 767,8294.2031 L777,8294.2031 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="777" y="8331.1875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="787" y="8352.3262">基于某个 发布版本 运行</text><path d="M727,8375.1563 L737,8375.1563 C752,8375.1563 752,8348.1719 767,8348.1719 L777,8348.1719 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="777" y="8385.1563"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="300" x="787" y="8406.2949">后台管理代码应随常驻app代码一起发布，避免同步问题</text><path d="M727,8375.1563 L737,8375.1563 C752,8375.1563 752,8402.1406 767,8402.1406 L777,8402.1406 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="777" y="8439.125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="236" x="787" y="8460.2637">所有进程类型应该使用同样的 依赖隔离 技术</text><path d="M727,8375.1563 L737,8375.1563 C752,8375.1563 752,8456.1094 767,8456.1094 L777,8456.1094 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M361,8334.6797 L371,8334.6797 C386,8334.6797 386,8375.1563 401,8375.1563 L411,8375.1563 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="411" y="8547.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="228" x="421" y="8568.2012">12-factor 青睐提供了 REPL shell 的语言</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="709" y="8493.0938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="719" y="8514.2324">那会让运行一次性脚本变得简单</text><path d="M659,8564.0469 L669,8564.0469 C684,8564.0469 684,8510.0781 699,8510.0781 L709,8510.0781 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="709" y="8547.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="719" y="8568.2012">在本地部署中</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="333" x="851" y="8547.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="313" x="861" y="8568.2012">开发人员直接在命令行使用 shell 命令调用一次性管理进程</text><path d="M801,8564.0469 L811,8564.0469 C826,8564.0469 826,8564.0469 841,8564.0469 L851,8564.0469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,8564.0469 L669,8564.0469 C684,8564.0469 684,8564.0469 699,8564.0469 L709,8564.0469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="709" y="8601.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="719" y="8622.1699">在线上部署中</text><rect fill="#FEFECE" filter="url(#f6ixg21vsfsgd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="270" x="851" y="8601.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="861" y="8622.1699">开发人员依旧可以使用ssh等来运行这样的进程</text><path d="M801,8618.0156 L811,8618.0156 C826,8618.0156 826,8618.0156 841,8618.0156 L851,8618.0156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,8564.0469 L669,8564.0469 C684,8564.0469 684,8618.0156 699,8618.0156 L709,8618.0156 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M361,8334.6797 L371,8334.6797 C386,8334.6797 386,8564.0469 401,8564.0469 L411,8564.0469 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M106,4327.5 L116,4327.5 C131,4327.5 131,8334.6797 146,8334.6797 L156,8334.6797 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><!--
--></g></svg>